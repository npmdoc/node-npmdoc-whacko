<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/inikulin/whacko#readme"

    >whacko (v0.19.1)</a>
</h1>
<h4>Cheerio (http://cheeriojs.github.io/cheerio/) fork that uses parse5 HTML-parser (https://github.com/inikulin/parse5) as an underlying platform </h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.whacko">module whacko</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.whacko">
            function <span class="apidocSignatureSpan"></span>whacko
            <span class="apidocSignatureSpan">(selector, context, root, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio">
            function <span class="apidocSignatureSpan">whacko.</span>cheerio
            <span class="apidocSignatureSpan">(selector, context, root, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.contains">
            function <span class="apidocSignatureSpan">whacko.</span>contains
            <span class="apidocSignatureSpan">(container, contained)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.html">
            function <span class="apidocSignatureSpan">whacko.</span>html
            <span class="apidocSignatureSpan">(dom, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.load">
            function <span class="apidocSignatureSpan">whacko.</span>load
            <span class="apidocSignatureSpan">(content, options, isFragment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.parse">
            function <span class="apidocSignatureSpan">whacko.</span>parse
            <span class="apidocSignatureSpan">(content, options, isDocument)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.parseHTML">
            function <span class="apidocSignatureSpan">whacko.</span>parseHTML
            <span class="apidocSignatureSpan">(data, context, keepScripts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.root">
            function <span class="apidocSignatureSpan">whacko.</span>root
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.text">
            function <span class="apidocSignatureSpan">whacko.</span>text
            <span class="apidocSignatureSpan">(elems)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.xml">
            function <span class="apidocSignatureSpan">whacko.</span>xml
            <span class="apidocSignatureSpan">(dom)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">whacko.</span>attributes</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">whacko.</span>cheerio.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">whacko.</span>css</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">whacko.</span>manipulation</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">whacko.</span>static</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">whacko.</span>traversing</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">whacko.</span>utils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">whacko.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.whacko.attributes">module whacko.attributes</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.attributes.addClass">
            function <span class="apidocSignatureSpan">whacko.attributes.</span>addClass
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.attributes.attr">
            function <span class="apidocSignatureSpan">whacko.attributes.</span>attr
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.attributes.data">
            function <span class="apidocSignatureSpan">whacko.attributes.</span>data
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.attributes.hasClass">
            function <span class="apidocSignatureSpan">whacko.attributes.</span>hasClass
            <span class="apidocSignatureSpan">(className)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.attributes.is">
            function <span class="apidocSignatureSpan">whacko.attributes.</span>is
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.attributes.removeAttr">
            function <span class="apidocSignatureSpan">whacko.attributes.</span>removeAttr
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.attributes.removeClass">
            function <span class="apidocSignatureSpan">whacko.attributes.</span>removeClass
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.attributes.toggleClass">
            function <span class="apidocSignatureSpan">whacko.attributes.</span>toggleClass
            <span class="apidocSignatureSpan">(value, stateVal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.attributes.val">
            function <span class="apidocSignatureSpan">whacko.attributes.</span>val
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.whacko.cheerio">module whacko.cheerio</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.cheerio">
            function <span class="apidocSignatureSpan">whacko.</span>cheerio
            <span class="apidocSignatureSpan">(selector, context, root, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.contains">
            function <span class="apidocSignatureSpan">whacko.cheerio.</span>contains
            <span class="apidocSignatureSpan">(container, contained)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.html">
            function <span class="apidocSignatureSpan">whacko.cheerio.</span>html
            <span class="apidocSignatureSpan">(dom, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.load">
            function <span class="apidocSignatureSpan">whacko.cheerio.</span>load
            <span class="apidocSignatureSpan">(content, options, isFragment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.parseHTML">
            function <span class="apidocSignatureSpan">whacko.cheerio.</span>parseHTML
            <span class="apidocSignatureSpan">(data, context, keepScripts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.root">
            function <span class="apidocSignatureSpan">whacko.cheerio.</span>root
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.text">
            function <span class="apidocSignatureSpan">whacko.cheerio.</span>text
            <span class="apidocSignatureSpan">(elems)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.xml">
            function <span class="apidocSignatureSpan">whacko.cheerio.</span>xml
            <span class="apidocSignatureSpan">(dom)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">whacko.cheerio.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.whacko.cheerio.prototype">module whacko.cheerio.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype._make">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>_make
            <span class="apidocSignatureSpan">(dom, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype._makeDomArray">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>_makeDomArray
            <span class="apidocSignatureSpan">(elem)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.add">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>add
            <span class="apidocSignatureSpan">(other, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.addBack">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>addBack
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.addClass">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>addClass
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.after">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>after
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.append">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>append
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.attr">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>attr
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.before">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>before
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.children">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>children
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.clone">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.closest">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>closest
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.contents">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>contents
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.css">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>css
            <span class="apidocSignatureSpan">(prop, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.data">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>data
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.each">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>each
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.empty">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>empty
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.end">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>end
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.eq">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>eq
            <span class="apidocSignatureSpan">(i)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.filter">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>filter
            <span class="apidocSignatureSpan">(match, container)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.find">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>find
            <span class="apidocSignatureSpan">(selectorOrHaystack)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.first">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>first
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.get">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>get
            <span class="apidocSignatureSpan">(i)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.hasClass">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>hasClass
            <span class="apidocSignatureSpan">(className)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.html">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>html
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.index">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>index
            <span class="apidocSignatureSpan">(selectorOrNeedle)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.is">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>is
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.last">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>last
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.map">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>map
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.next">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>next
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.nextAll">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>nextAll
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.nextUntil">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>nextUntil
            <span class="apidocSignatureSpan">(selector, filterSelector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.not">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>not
            <span class="apidocSignatureSpan">(match, container)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.parent">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>parent
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.parents">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>parents
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.parentsUntil">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>parentsUntil
            <span class="apidocSignatureSpan">(selector, filter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.prepend">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>prepend
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.prev">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>prev
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.prevAll">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>prevAll
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.prevUntil">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>prevUntil
            <span class="apidocSignatureSpan">(selector, filterSelector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.remove">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>remove
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.removeAttr">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>removeAttr
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.removeClass">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>removeClass
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.replaceWith">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>replaceWith
            <span class="apidocSignatureSpan">(content)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.siblings">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>siblings
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.slice">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>slice
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.splice">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>splice
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.text">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>text
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.toArray">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>toArray
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.toString">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.toggleClass">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>toggleClass
            <span class="apidocSignatureSpan">(value, stateVal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.cheerio.prototype.val">
            function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>val
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>length</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>options</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>cheerio</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.whacko.css">module whacko.css</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.css.css">
            function <span class="apidocSignatureSpan">whacko.</span>css
            <span class="apidocSignatureSpan">(prop, val)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.whacko.manipulation">module whacko.manipulation</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation._makeDomArray">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>_makeDomArray
            <span class="apidocSignatureSpan">(elem)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation.after">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>after
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation.append">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>append
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation.before">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>before
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation.clone">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>clone
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation.empty">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>empty
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation.html">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>html
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation.prepend">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>prepend
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation.remove">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>remove
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation.replaceWith">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>replaceWith
            <span class="apidocSignatureSpan">(content)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation.text">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>text
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.manipulation.toString">
            function <span class="apidocSignatureSpan">whacko.manipulation.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.whacko.parse">module whacko.parse</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.parse.parse">
            function <span class="apidocSignatureSpan">whacko.</span>parse
            <span class="apidocSignatureSpan">(content, options, isDocument)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.parse.evaluate">
            function <span class="apidocSignatureSpan">whacko.parse.</span>evaluate
            <span class="apidocSignatureSpan">(content, options, isDocument)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.parse.update">
            function <span class="apidocSignatureSpan">whacko.parse.</span>update
            <span class="apidocSignatureSpan">(arr, parent)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.whacko.static">module whacko.static</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.static.contains">
            function <span class="apidocSignatureSpan">whacko.static.</span>contains
            <span class="apidocSignatureSpan">(container, contained)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.static.html">
            function <span class="apidocSignatureSpan">whacko.static.</span>html
            <span class="apidocSignatureSpan">(dom, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.static.load">
            function <span class="apidocSignatureSpan">whacko.static.</span>load
            <span class="apidocSignatureSpan">(content, options, isFragment)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.static.parseHTML">
            function <span class="apidocSignatureSpan">whacko.static.</span>parseHTML
            <span class="apidocSignatureSpan">(data, context, keepScripts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.static.root">
            function <span class="apidocSignatureSpan">whacko.static.</span>root
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.static.text">
            function <span class="apidocSignatureSpan">whacko.static.</span>text
            <span class="apidocSignatureSpan">(elems)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.static.xml">
            function <span class="apidocSignatureSpan">whacko.static.</span>xml
            <span class="apidocSignatureSpan">(dom)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.whacko.traversing">module whacko.traversing</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.add">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>add
            <span class="apidocSignatureSpan">(other, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.addBack">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>addBack
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.children">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>children
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.closest">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>closest
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.contents">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>contents
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.each">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>each
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.end">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>end
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.eq">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>eq
            <span class="apidocSignatureSpan">(i)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.filter">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>filter
            <span class="apidocSignatureSpan">(match, container)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.find">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>find
            <span class="apidocSignatureSpan">(selectorOrHaystack)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.first">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>first
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.get">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>get
            <span class="apidocSignatureSpan">(i)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.index">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>index
            <span class="apidocSignatureSpan">(selectorOrNeedle)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.last">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>last
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.map">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>map
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.next">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>next
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.nextAll">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>nextAll
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.nextUntil">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>nextUntil
            <span class="apidocSignatureSpan">(selector, filterSelector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.not">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>not
            <span class="apidocSignatureSpan">(match, container)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.parent">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>parent
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.parents">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>parents
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.parentsUntil">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>parentsUntil
            <span class="apidocSignatureSpan">(selector, filter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.prev">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>prev
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.prevAll">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>prevAll
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.prevUntil">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>prevUntil
            <span class="apidocSignatureSpan">(selector, filterSelector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.siblings">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>siblings
            <span class="apidocSignatureSpan">(selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.traversing.slice">
            function <span class="apidocSignatureSpan">whacko.traversing.</span>slice
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.whacko.utils">module whacko.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.utils.camelCase">
            function <span class="apidocSignatureSpan">whacko.utils.</span>camelCase
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.utils.cssCase">
            function <span class="apidocSignatureSpan">whacko.utils.</span>cssCase
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.utils.domEach">
            function <span class="apidocSignatureSpan">whacko.utils.</span>domEach
            <span class="apidocSignatureSpan">(cheerio, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.whacko.utils.isTag">
            function <span class="apidocSignatureSpan">whacko.utils.</span>isTag
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.whacko" id="apidoc.module.whacko">module whacko</a></h1>


    <h2>
        <a href="#apidoc.element.whacko.whacko" id="apidoc.element.whacko.whacko">
        function <span class="apidocSignatureSpan"></span>whacko
        <span class="apidocSignatureSpan">(selector, context, root, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">whacko = function (selector, context, root, options) {
  if (!(this instanceof Cheerio)) return new Cheerio(selector, context, root, options);

  this.options = _.defaults(options || {}, this.options);

  // $(), $(null), $(undefined), $(false)
  if (!selector) return this;

  if (root) {
    if (typeof root === &#x27;string&#x27;) root = parse(root, this.options);
    this._root = Cheerio.call(this, root);
  }

  // $($)
  if (selector.cheerio) return selector;

  // $(dom)
  if (isNode(selector))
    selector = [selector];

  // $([dom])
  if (Array.isArray(selector)) {
    _.forEach(selector, function(elem, idx) {
      this[idx] = elem;
    }, this);
    this.length = selector.length;
    return this;
  }

  // $(&#x3c;html&#x3e;)
  if (typeof selector === &#x27;string&#x27; &#x26;&#x26; isHtml(selector)) {
    return Cheerio.call(this, parse(selector, this.options).children);
  }

  // If we don&#x27;t have a context, maybe we have a root, from loading
  if (!context) {
    context = this._root;
  } else if (typeof context === &#x27;string&#x27;) {
    if (isHtml(context)) {
      // $(&#x27;li&#x27;, &#x27;&#x3c;ul&#x3e;...&#x3c;/ul&#x3e;&#x27;)
      context = parse(context, this.options);
      context = Cheerio.call(this, context);
    } else {
      // $(&#x27;li&#x27;, &#x27;ul&#x27;)
      selector = [context, selector].join(&#x27; &#x27;);
      context = this._root;
    }
  // $(&#x27;li&#x27;, node), $(&#x27;li&#x27;, [nodes])
  } else if (!context.cheerio) {
    context = Cheerio.call(this, context);
  }

  // If we still don&#x27;t have a context, return
  if (!context) return this;

  // #id, .class, tag
  return context.find(selector);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio" id="apidoc.element.whacko.cheerio">
        function <span class="apidocSignatureSpan">whacko.</span>cheerio
        <span class="apidocSignatureSpan">(selector, context, root, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cheerio = function (selector, context, root, options) {
  if (!(this instanceof Cheerio)) return new Cheerio(selector, context, root, options);

  this.options = _.defaults(options || {}, this.options);

  // $(), $(null), $(undefined), $(false)
  if (!selector) return this;

  if (root) {
    if (typeof root === &#x27;string&#x27;) root = parse(root, this.options);
    this._root = Cheerio.call(this, root);
  }

  // $($)
  if (selector.cheerio) return selector;

  // $(dom)
  if (isNode(selector))
    selector = [selector];

  // $([dom])
  if (Array.isArray(selector)) {
    _.forEach(selector, function(elem, idx) {
      this[idx] = elem;
    }, this);
    this.length = selector.length;
    return this;
  }

  // $(&#x3c;html&#x3e;)
  if (typeof selector === &#x27;string&#x27; &#x26;&#x26; isHtml(selector)) {
    return Cheerio.call(this, parse(selector, this.options).children);
  }

  // If we don&#x27;t have a context, maybe we have a root, from loading
  if (!context) {
    context = this._root;
  } else if (typeof context === &#x27;string&#x27;) {
    if (isHtml(context)) {
      // $(&#x27;li&#x27;, &#x27;&#x3c;ul&#x3e;...&#x3c;/ul&#x3e;&#x27;)
      context = parse(context, this.options);
      context = Cheerio.call(this, context);
    } else {
      // $(&#x27;li&#x27;, &#x27;ul&#x27;)
      selector = [context, selector].join(&#x27; &#x27;);
      context = this._root;
    }
  // $(&#x27;li&#x27;, node), $(&#x27;li&#x27;, [nodes])
  } else if (!context.cheerio) {
    context = Cheerio.call(this, context);
  }

  // If we still don&#x27;t have a context, return
  if (!context) return this;

  // #id, .class, tag
  return context.find(selector);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.contains" id="apidoc.element.whacko.contains">
        function <span class="apidocSignatureSpan">whacko.</span>contains
        <span class="apidocSignatureSpan">(container, contained)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">contains = function (container, contained) {

    // According to the jQuery API, an element does not &#x22;contain&#x22; itself
    if (contained === container) {
        return false;
    }

    // Step up the descendants, stopping when the root element is reached
    // (signaled by `.parent` returning a reference to the same object)
    while (contained &#x26;&#x26; contained !== contained.parent) {
        contained = contained.parent;
        if (contained === container) {
            return true;
        }
    }

    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * $.root()
 */
exports.root = function () {
return this(this._root);
};

/**
 * $.<span class="apidocCodeKeywordSpan">contains</span>()
 */
exports.contains = function (container, contained) {

// According to the jQuery API, an element does not &#x22;contain&#x22; itself
if (contained === container) {
    return false;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.html" id="apidoc.element.whacko.html">
        function <span class="apidocSignatureSpan">whacko.</span>html
        <span class="apidocSignatureSpan">(dom, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">html = function (dom, options) {
    var Cheerio = require(&#x27;./cheerio&#x27;);

    // be flexible about parameters, sometimes we call html(),
    // with options as only parameter
    // check dom argument for dom element specific properties
    // assume there is no &#x27;length&#x27; or &#x27;type&#x27; properties in the options object
    if (Object.prototype.toString.call(dom) === &#x27;[object Object]&#x27; &#x26;&#x26; !options &#x26;&#x26; !(&#x27;length&#x27; in dom) &#x26;&#x26;
        !(&#x27;type&#x27; in dom)) {
        options = dom;
        dom = undefined;
    }

    // sometimes $.html() used without preloading html
    // so fallback non existing options to the default ones
    options = _.defaults(options || {}, this._options, Cheerio.prototype.options);

    if (dom) {
        dom = (typeof dom === &#x27;string&#x27;) ? select(dom, this._root, options) : dom;
        return render(dom, options);
    } else if (this._root &#x26;&#x26; this._root.children) {
        return render(this._root.children, options);
    } else {
        return &#x27;&#x27;;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// store options
initialize._options = options;

return initialize;
};

/**
 * $.<span class="apidocCodeKeywordSpan">html</span>([selector | dom])
 */

exports.html = function (dom, options) {
var Cheerio = require(&#x27;./cheerio&#x27;);

// be flexible about parameters, sometimes we call html(),
// with options as only parameter
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.load" id="apidoc.element.whacko.load">
        function <span class="apidocSignatureSpan">whacko.</span>load
        <span class="apidocSignatureSpan">(content, options, isFragment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (content, options, isFragment) {
    var Cheerio = require(&#x27;./cheerio&#x27;);

    options = _.defaults(options || {}, Cheerio.prototype.options);

    var root = parse(content, options, !isFragment);

    var initialize = function (selector, context, r, opts) {
        opts = _.defaults(opts || {}, options);
        return Cheerio.call(this, selector, context, r || root, opts);
    };

    // Ensure that selections created by the &#x22;loaded&#x22; `initialize` function are
    // true Cheerio instances.
    initialize.prototype = Cheerio.prototype;

    // Add in the static methods
    _.merge(initialize, exports);

    // Add in the root
    initialize._root = root;
    // store options
    initialize._options = options;

    return initialize;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Install
```
$ npm install whacko
```

## API
Difference with cheerio:
* Use `$.<span class="apidocCodeKeywordSpan">load</span>(content)` to load HTML documents (e.g. missing `&#x3c;html&#x3e;` tags
will be automatically emitted in this case).
* Use `$(content)` to create HTML-fragments which can be later added to the loaded document.
* Parser options (e.g. `xmlMode` and `normalizeWhitespace`) are missing since whacko is intended for spec compliant HTML parsing
.
* New parser option `encodeEntities` added. When false, it disables HTML entities decoding on serialization.
* New parser option `decodeHtmlEntities` added. When false, it disables HTML entities decoding on parse.

In all other aspects it is the same with the [cheerio API](https://github.com/cheeriojs/cheerio#api).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.parse" id="apidoc.element.whacko.parse">
        function <span class="apidocSignatureSpan">whacko.</span>parse
        <span class="apidocSignatureSpan">(content, options, isDocument)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (content, options, isDocument) {
    var dom = exports.evaluate(content, options, isDocument);

    // Generic root element
    var root = parse5.TreeAdapters.htmlparser2.createDocument();

    // Update the dom using the root
    exports.update(dom, root);

    return root;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (Buffer.isBuffer(content))
    content = content.toString();

if (typeof content === &#x27;string&#x27;) {

    if (isDocument || shouldParseAsDocument(content))
        dom = parser.<span class="apidocCodeKeywordSpan">parse</span>(content);
    else
        dom = parser.parseFragment(content);

    dom = dom.children;

    return dom;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.parseHTML" id="apidoc.element.whacko.parseHTML">
        function <span class="apidocSignatureSpan">whacko.</span>parseHTML
        <span class="apidocSignatureSpan">(data, context, keepScripts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseHTML = function (data, context, keepScripts) {
    var parsed;

    if (!data || typeof data !== &#x27;string&#x27;) {
        return null;
    }

    if (typeof context === &#x27;boolean&#x27;) {
        keepScripts = context;
    }

    parsed = this.load(data, null, true);
    if (!keepScripts) {
        parsed(&#x27;script&#x27;).remove();
    }

    return parsed.root()[0].children;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
}

return ret;
};

/**
 * $.<span class="apidocCodeKeywordSpan">parseHTML</span>(data [, context ] [, keepScripts ])
 * Parses a string into an array of DOM nodes. The `context` argument has no
 * meaning for Cheerio, but it is maintained for API compatibility with jQuery.
 */
exports.parseHTML = function (data, context, keepScripts) {
var parsed;

if (!data || typeof data !== &#x27;string&#x27;) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.root" id="apidoc.element.whacko.root">
        function <span class="apidocSignatureSpan">whacko.</span>root
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">root = function () {
    return this(this._root);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

parsed = this.load(data, null, true);
if (!keepScripts) {
    parsed(&#x27;script&#x27;).remove();
}

return parsed.<span class="apidocCodeKeywordSpan">root</span>()[0].children;
};

/**
 * $.root()
 */
exports.root = function () {
return this(this._root);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.text" id="apidoc.element.whacko.text">
        function <span class="apidocSignatureSpan">whacko.</span>text
        <span class="apidocSignatureSpan">(elems)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">text = function (elems) {
    if (!elems) return &#x27;&#x27;;

    var ret = &#x27;&#x27;,
        len = elems.length,
        elem;

    for (var i = 0; i &#x3c; len; i++) {
        elem = elems[i];
        if (elem.type === &#x27;text&#x27;) ret += elem.data;
        else if (elem.children &#x26;&#x26; elem.type !== &#x27;comment&#x27;) {
            ret += exports.text(elem.children);
        }
    }

    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return render(this._root.children, { xmlMode: true });
} else {
    return &#x27;&#x27;;
}
};

/**
 * $.<span class="apidocCodeKeywordSpan">text</span>(dom)
 */

exports.text = function (elems) {
if (!elems) return &#x27;&#x27;;

var ret = &#x27;&#x27;,
    len = elems.length,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.xml" id="apidoc.element.whacko.xml">
        function <span class="apidocSignatureSpan">whacko.</span>xml
        <span class="apidocSignatureSpan">(dom)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">xml = function (dom) {
    if (dom) {
        dom = (typeof dom === &#x27;string&#x27;) ? select(dom, this._root, this.options) : dom;
        return render(dom, { xmlMode: true });
    } else if (this._root &#x26;&#x26; this._root.children) {
        return render(this._root.children, { xmlMode: true });
    } else {
        return &#x27;&#x27;;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return render(this._root.children, options);
} else {
    return &#x27;&#x27;;
}
};

/**
 * $.<span class="apidocCodeKeywordSpan">xml</span>([selector | dom])
 */

exports.xml = function (dom) {
if (dom) {
    dom = (typeof dom === &#x27;string&#x27;) ? select(dom, this._root, this.options) : dom;
    return render(dom, { xmlMode: true });
} else if (this._root &#x26;&#x26; this._root.children) {
...</pre></li>
    </ul>


















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.whacko.attributes" id="apidoc.module.whacko.attributes">module whacko.attributes</a></h1>


    <h2>
        <a href="#apidoc.element.whacko.attributes.addClass" id="apidoc.element.whacko.attributes.addClass">
        function <span class="apidocSignatureSpan">whacko.attributes.</span>addClass
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addClass = function (value) {
  // Support functions
  if (typeof value === &#x27;function&#x27;) {
    return domEach(this, function(i, el) {
      var className = el.attribs[&#x27;class&#x27;] || &#x27;&#x27;;
      exports.addClass.call([el], value.call(el, i, className));
    });
  }

  // Return if no value or not a string or function
  if (!value || typeof value !== &#x27;string&#x27;) return this;

  var classNames = value.split(rspace),
      numElements = this.length;


  for (var i = 0; i &#x3c; numElements; i++) {
    // If selected element isn&#x27;t a tag, move on
    if (!isTag(this[i])) continue;

    // If we don&#x27;t already have classes
    var className = getAttr(this[i], &#x27;class&#x27;),
        numClasses,
        setClass;

    if (!className) {
      setAttr(this[i], &#x27;class&#x27;, classNames.join(&#x27; &#x27;).trim());
    } else {
      setClass = &#x27; &#x27; + className + &#x27; &#x27;;
      numClasses = classNames.length;

      // Check if class already exists
      for (var j = 0; j &#x3c; numClasses; j++) {
        var appendClass = classNames[j] + &#x27; &#x27;;
        if (!~setClass.indexOf(&#x27; &#x27; + appendClass))
          setClass += appendClass;
      }

      setAttr(this[i], &#x27;class&#x27;, setClass.trim());
    }
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.attributes.attr" id="apidoc.element.whacko.attributes.attr">
        function <span class="apidocSignatureSpan">whacko.attributes.</span>attr
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attr = function (name, value) {
  // Set the value (with attr map support)
  if (typeof name === &#x27;object&#x27; || value !== undefined) {
    if (typeof value === &#x27;function&#x27;) {
      return domEach(this, function(i, el) {
        setAttr(el, name, value.call(el, i, el.attribs[name]));
      });
    }
    return domEach(this, function(i, el) {
      if (!isTag(el)) return;

      if (typeof name === &#x27;object&#x27;) {
        _.each(name, function(name, key) {
          el.attribs[key] = name+&#x27;&#x27;;
        });
      } else {
        setAttr(el, name, value);
      }
    });
  }

  return getAttr(this[0], name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  if(!element) return;

  switch (element.name) {
    case &#x27;textarea&#x27;:
      return this.text(value);
    case &#x27;input&#x27;:
      switch (this.<span class="apidocCodeKeywordSpan">attr</span>(&#x27;type&#x27;)) {
        case &#x27;radio&#x27;:
var queryString = &#x27;input[type=radio][name=&#x22;&#x27; + this.attr(&#x27;name&#x27;) + &#x27;&#x22;]:checked&#x27;;
var parentEl, root;

// Go up until we hit a form or root
parentEl = this.closest(&#x27;form&#x27;);
if (parentEl.length === 0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.attributes.data" id="apidoc.element.whacko.attributes.data">
        function <span class="apidocSignatureSpan">whacko.attributes.</span>data
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">data = function (name, value) {
  var elem = this[0];

  if (!elem || !isTag(elem)) return;

  if (!elem.data) {
    elem.data = {};
  }

  // Return the entire data object if no data specified
  if (!name) {
    return readData(elem);
  }

  // Set the value (with attr map support)
  if (typeof name === &#x27;object&#x27; || value !== undefined) {
    domEach(this, function(i, el) {
      setData(el, name, value);
    });
    return this;
  } else if (hasOwn.call(elem.data, name)) {
    return elem.data[name];
  }

  return readData(elem, name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.attributes.hasClass" id="apidoc.element.whacko.attributes.hasClass">
        function <span class="apidocSignatureSpan">whacko.attributes.</span>hasClass
        <span class="apidocSignatureSpan">(className)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasClass = function (className) {
  return _.any(this, function(elem) {
    var attrs = elem.attribs,
        clazz = attrs &#x26;&#x26; attrs[&#x27;class&#x27;],
        idx = -1,
        end;

    if (clazz) {
      while ((idx = clazz.indexOf(className, idx+1)) &#x3e; -1) {
        end = idx + className.length;

        if ((idx === 0 || rspace.test(clazz[idx-1]))
            &#x26;&#x26; (end === clazz.length || rspace.test(clazz[end]))) {
          return true;
        }
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.attributes.is" id="apidoc.element.whacko.attributes.is">
        function <span class="apidocSignatureSpan">whacko.attributes.</span>is
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">is = function (selector) {
  if (selector) {
    return this.filter(selector).length &#x3e; 0;
  }
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

exports.siblings = function(selector) {
var parent = this.parent();

var elems = _.filter(
  parent ? parent.children() : this.siblingsAndMe(),
  function(elem) { return isTag(elem) &#x26;&#x26; !this.<span class="apidocCodeKeywordSpan">is</span>(elem); },
  this
);

if (selector !== undefined) {
  return exports.filter.call(elems, selector, this);
} else {
  return this._make(elems);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.attributes.removeAttr" id="apidoc.element.whacko.attributes.removeAttr">
        function <span class="apidocSignatureSpan">whacko.attributes.</span>removeAttr
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAttr = function (name) {
  domEach(this, function(i, elem) {
    removeAttribute(elem, name);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      root = (this.parents().last()[0] || this[0]).root;
      parentEl = this._make(root);
    }

    if (querying) {
      return parentEl.find(queryString).attr(&#x27;value&#x27;);
    } else {
      parentEl.find(&#x27;:checked&#x27;).<span class="apidocCodeKeywordSpan">removeAttr</span>(&#x27;checked&#x27;);
      parentEl.find(&#x27;input[type=radio][value=&#x22;&#x27; + value + &#x27;&#x22;]&#x27;).attr(&#x27;checked&#x27;, &#x27;&#
x27;);
      return this;
    }
    break;
  default:
    return this.attr(&#x27;value&#x27;, value);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.attributes.removeClass" id="apidoc.element.whacko.attributes.removeClass">
        function <span class="apidocSignatureSpan">whacko.attributes.</span>removeClass
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeClass = function (value) {
  var classes,
      numClasses,
      removeAll;

  // Handle if value is a function
  if (typeof value === &#x27;function&#x27;) {
    return domEach(this, function(i, el) {
      exports.removeClass.call(
        [el], value.call(el, i, el.attribs[&#x27;class&#x27;] || &#x27;&#x27;)
      );
    });
  }

  classes = splitClass(value);
  numClasses = classes.length;
  removeAll = arguments.length === 0;

  return domEach(this, function(i, el) {
    if (!isTag(el)) return;

    if (removeAll) {
      // Short circuit the remove all case as this is the nice one
      el.attribs.class = &#x27;&#x27;;
    } else {
      var elClasses = splitClass(el.attribs.class),
          index,
          changed;

      for (var j = 0; j &#x3c; numClasses; j++) {
        index = elClasses.indexOf(classes[j]);

        if (index &#x3e;= 0) {
          elClasses.splice(index, 1);
          changed = true;

          // We have to do another pass to ensure that there are not duplicate
          // classes listed
          j--;
        }
      }
      if (changed) {
        el.attribs.class = elClasses.join(&#x27; &#x27;);
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.attributes.toggleClass" id="apidoc.element.whacko.attributes.toggleClass">
        function <span class="apidocSignatureSpan">whacko.attributes.</span>toggleClass
        <span class="apidocSignatureSpan">(value, stateVal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toggleClass = function (value, stateVal) {
  // Support functions
  if (typeof value === &#x27;function&#x27;) {
    return domEach(this, function(i, el) {
      exports.toggleClass.call(
        [el],
        value.call(el, i, el.attribs[&#x27;class&#x27;] || &#x27;&#x27;, stateVal),
        stateVal
      );
    });
  }

  // Return if no value or not a string or function
  if (!value || typeof value !== &#x27;string&#x27;) return this;

  var classNames = value.split(rspace),
    numClasses = classNames.length,
    state = typeof stateVal === &#x27;boolean&#x27; ? stateVal ? 1 : -1 : 0,
    numElements = this.length,
    elementClasses,
    index;

  for (var i = 0; i &#x3c; numElements; i++) {
    // If selected element isn&#x27;t a tag, move on
    if (!isTag(this[i])) continue;

    elementClasses = splitClass(this[i].attribs.class);

    // Check if class already exists
    for (var j = 0; j &#x3c; numClasses; j++) {
      // Check if the class name is currently defined
      index = elementClasses.indexOf(classNames[j]);

      // Add if stateValue === true or we are toggling and there is no value
      if (state &#x3e;= 0 &#x26;&#x26; index &#x3c; 0) {
        elementClasses.push(classNames[j]);
      } else if (state &#x3c;= 0 &#x26;&#x26; index &#x3e;= 0) {
        // Otherwise remove but only if the item exists
        elementClasses.splice(index, 1);
      }
    }

    this[i].attribs.class = elementClasses.join(&#x27; &#x27;);
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.attributes.val" id="apidoc.element.whacko.attributes.val">
        function <span class="apidocSignatureSpan">whacko.attributes.</span>val
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (value) {
  var querying = arguments.length === 0,
      element = this[0];

  if(!element) return;

  switch (element.name) {
    case &#x27;textarea&#x27;:
      return this.text(value);
    case &#x27;input&#x27;:
      switch (this.attr(&#x27;type&#x27;)) {
        case &#x27;radio&#x27;:
          var queryString = &#x27;input[type=radio][name=&#x22;&#x27; + this.attr(&#x27;name&#x27;) + &#x27;&#x22;]:checked&#x27;;
          var parentEl, root;

          // Go up until we hit a form or root
          parentEl = this.closest(&#x27;form&#x27;);
          if (parentEl.length === 0) {
            root = (this.parents().last()[0] || this[0]).root;
            parentEl = this._make(root);
          }

          if (querying) {
            return parentEl.find(queryString).attr(&#x27;value&#x27;);
          } else {
            parentEl.find(&#x27;:checked&#x27;).removeAttr(&#x27;checked&#x27;);
            parentEl.find(&#x27;input[type=radio][value=&#x22;&#x27; + value + &#x27;&#x22;]&#x27;).attr(&#x27;checked&#x27;, &#x27;&#x27;);
            return this;
          }
          break;
        default:
          return this.attr(&#x27;value&#x27;, value);
      }
      return;
    case &#x27;select&#x27;:
      var option = this.find(&#x27;option:selected&#x27;),
          returnValue;
      if (option === undefined) return undefined;
      if (!querying) {
        if (!this.attr().hasOwnProperty(&#x27;multiple&#x27;) &#x26;&#x26; typeof value == &#x27;object&#x27;) {
          return this;
        }
        if (typeof value != &#x27;object&#x27;) {
          value = [value];
        }
        this.find(&#x27;option&#x27;).removeAttr(&#x27;selected&#x27;);
        for (var i = 0; i &#x3c; value.length; i++) {
          this.find(&#x27;option[value=&#x22;&#x27; + value[i] + &#x27;&#x22;]&#x27;).attr(&#x27;selected&#x27;, &#x27;&#x27;);
        }
        return this;
      }
      returnValue = option.attr(&#x27;value&#x27;);
      if (this.attr().hasOwnProperty(&#x27;multiple&#x27;)) {
        returnValue = [];
        domEach(option, function(i, el) {
          returnValue.push(el.attribs.value);
        });
      }
      return returnValue;
    case &#x27;option&#x27;:
      if (!querying) {
        this.attr(&#x27;value&#x27;, value);
        return this;
      }
      return this.attr(&#x27;value&#x27;);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.whacko.cheerio" id="apidoc.module.whacko.cheerio">module whacko.cheerio</a></h1>


    <h2>
        <a href="#apidoc.element.whacko.cheerio.cheerio" id="apidoc.element.whacko.cheerio.cheerio">
        function <span class="apidocSignatureSpan">whacko.</span>cheerio
        <span class="apidocSignatureSpan">(selector, context, root, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cheerio = function (selector, context, root, options) {
  if (!(this instanceof Cheerio)) return new Cheerio(selector, context, root, options);

  this.options = _.defaults(options || {}, this.options);

  // $(), $(null), $(undefined), $(false)
  if (!selector) return this;

  if (root) {
    if (typeof root === &#x27;string&#x27;) root = parse(root, this.options);
    this._root = Cheerio.call(this, root);
  }

  // $($)
  if (selector.cheerio) return selector;

  // $(dom)
  if (isNode(selector))
    selector = [selector];

  // $([dom])
  if (Array.isArray(selector)) {
    _.forEach(selector, function(elem, idx) {
      this[idx] = elem;
    }, this);
    this.length = selector.length;
    return this;
  }

  // $(&#x3c;html&#x3e;)
  if (typeof selector === &#x27;string&#x27; &#x26;&#x26; isHtml(selector)) {
    return Cheerio.call(this, parse(selector, this.options).children);
  }

  // If we don&#x27;t have a context, maybe we have a root, from loading
  if (!context) {
    context = this._root;
  } else if (typeof context === &#x27;string&#x27;) {
    if (isHtml(context)) {
      // $(&#x27;li&#x27;, &#x27;&#x3c;ul&#x3e;...&#x3c;/ul&#x3e;&#x27;)
      context = parse(context, this.options);
      context = Cheerio.call(this, context);
    } else {
      // $(&#x27;li&#x27;, &#x27;ul&#x27;)
      selector = [context, selector].join(&#x27; &#x27;);
      context = this._root;
    }
  // $(&#x27;li&#x27;, node), $(&#x27;li&#x27;, [nodes])
  } else if (!context.cheerio) {
    context = Cheerio.call(this, context);
  }

  // If we still don&#x27;t have a context, return
  if (!context) return this;

  // #id, .class, tag
  return context.find(selector);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.contains" id="apidoc.element.whacko.cheerio.contains">
        function <span class="apidocSignatureSpan">whacko.cheerio.</span>contains
        <span class="apidocSignatureSpan">(container, contained)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">contains = function (container, contained) {

    // According to the jQuery API, an element does not &#x22;contain&#x22; itself
    if (contained === container) {
        return false;
    }

    // Step up the descendants, stopping when the root element is reached
    // (signaled by `.parent` returning a reference to the same object)
    while (contained &#x26;&#x26; contained !== contained.parent) {
        contained = contained.parent;
        if (contained === container) {
            return true;
        }
    }

    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * $.root()
 */
exports.root = function () {
return this(this._root);
};

/**
 * $.<span class="apidocCodeKeywordSpan">contains</span>()
 */
exports.contains = function (container, contained) {

// According to the jQuery API, an element does not &#x22;contain&#x22; itself
if (contained === container) {
    return false;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.html" id="apidoc.element.whacko.cheerio.html">
        function <span class="apidocSignatureSpan">whacko.cheerio.</span>html
        <span class="apidocSignatureSpan">(dom, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">html = function (dom, options) {
    var Cheerio = require(&#x27;./cheerio&#x27;);

    // be flexible about parameters, sometimes we call html(),
    // with options as only parameter
    // check dom argument for dom element specific properties
    // assume there is no &#x27;length&#x27; or &#x27;type&#x27; properties in the options object
    if (Object.prototype.toString.call(dom) === &#x27;[object Object]&#x27; &#x26;&#x26; !options &#x26;&#x26; !(&#x27;length&#x27; in dom) &#x26;&#x26;
        !(&#x27;type&#x27; in dom)) {
        options = dom;
        dom = undefined;
    }

    // sometimes $.html() used without preloading html
    // so fallback non existing options to the default ones
    options = _.defaults(options || {}, this._options, Cheerio.prototype.options);

    if (dom) {
        dom = (typeof dom === &#x27;string&#x27;) ? select(dom, this._root, options) : dom;
        return render(dom, options);
    } else if (this._root &#x26;&#x26; this._root.children) {
        return render(this._root.children, options);
    } else {
        return &#x27;&#x27;;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// store options
initialize._options = options;

return initialize;
};

/**
 * $.<span class="apidocCodeKeywordSpan">html</span>([selector | dom])
 */

exports.html = function (dom, options) {
var Cheerio = require(&#x27;./cheerio&#x27;);

// be flexible about parameters, sometimes we call html(),
// with options as only parameter
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.load" id="apidoc.element.whacko.cheerio.load">
        function <span class="apidocSignatureSpan">whacko.cheerio.</span>load
        <span class="apidocSignatureSpan">(content, options, isFragment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (content, options, isFragment) {
    var Cheerio = require(&#x27;./cheerio&#x27;);

    options = _.defaults(options || {}, Cheerio.prototype.options);

    var root = parse(content, options, !isFragment);

    var initialize = function (selector, context, r, opts) {
        opts = _.defaults(opts || {}, options);
        return Cheerio.call(this, selector, context, r || root, opts);
    };

    // Ensure that selections created by the &#x22;loaded&#x22; `initialize` function are
    // true Cheerio instances.
    initialize.prototype = Cheerio.prototype;

    // Add in the static methods
    _.merge(initialize, exports);

    // Add in the root
    initialize._root = root;
    // store options
    initialize._options = options;

    return initialize;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Install
```
$ npm install whacko
```

## API
Difference with cheerio:
* Use `$.<span class="apidocCodeKeywordSpan">load</span>(content)` to load HTML documents (e.g. missing `&#x3c;html&#x3e;` tags
will be automatically emitted in this case).
* Use `$(content)` to create HTML-fragments which can be later added to the loaded document.
* Parser options (e.g. `xmlMode` and `normalizeWhitespace`) are missing since whacko is intended for spec compliant HTML parsing
.
* New parser option `encodeEntities` added. When false, it disables HTML entities decoding on serialization.
* New parser option `decodeHtmlEntities` added. When false, it disables HTML entities decoding on parse.

In all other aspects it is the same with the [cheerio API](https://github.com/cheeriojs/cheerio#api).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.parseHTML" id="apidoc.element.whacko.cheerio.parseHTML">
        function <span class="apidocSignatureSpan">whacko.cheerio.</span>parseHTML
        <span class="apidocSignatureSpan">(data, context, keepScripts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseHTML = function (data, context, keepScripts) {
    var parsed;

    if (!data || typeof data !== &#x27;string&#x27;) {
        return null;
    }

    if (typeof context === &#x27;boolean&#x27;) {
        keepScripts = context;
    }

    parsed = this.load(data, null, true);
    if (!keepScripts) {
        parsed(&#x27;script&#x27;).remove();
    }

    return parsed.root()[0].children;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
}

return ret;
};

/**
 * $.<span class="apidocCodeKeywordSpan">parseHTML</span>(data [, context ] [, keepScripts ])
 * Parses a string into an array of DOM nodes. The `context` argument has no
 * meaning for Cheerio, but it is maintained for API compatibility with jQuery.
 */
exports.parseHTML = function (data, context, keepScripts) {
var parsed;

if (!data || typeof data !== &#x27;string&#x27;) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.root" id="apidoc.element.whacko.cheerio.root">
        function <span class="apidocSignatureSpan">whacko.cheerio.</span>root
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">root = function () {
    return this(this._root);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

parsed = this.load(data, null, true);
if (!keepScripts) {
    parsed(&#x27;script&#x27;).remove();
}

return parsed.<span class="apidocCodeKeywordSpan">root</span>()[0].children;
};

/**
 * $.root()
 */
exports.root = function () {
return this(this._root);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.text" id="apidoc.element.whacko.cheerio.text">
        function <span class="apidocSignatureSpan">whacko.cheerio.</span>text
        <span class="apidocSignatureSpan">(elems)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">text = function (elems) {
    if (!elems) return &#x27;&#x27;;

    var ret = &#x27;&#x27;,
        len = elems.length,
        elem;

    for (var i = 0; i &#x3c; len; i++) {
        elem = elems[i];
        if (elem.type === &#x27;text&#x27;) ret += elem.data;
        else if (elem.children &#x26;&#x26; elem.type !== &#x27;comment&#x27;) {
            ret += exports.text(elem.children);
        }
    }

    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return render(this._root.children, { xmlMode: true });
} else {
    return &#x27;&#x27;;
}
};

/**
 * $.<span class="apidocCodeKeywordSpan">text</span>(dom)
 */

exports.text = function (elems) {
if (!elems) return &#x27;&#x27;;

var ret = &#x27;&#x27;,
    len = elems.length,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.xml" id="apidoc.element.whacko.cheerio.xml">
        function <span class="apidocSignatureSpan">whacko.cheerio.</span>xml
        <span class="apidocSignatureSpan">(dom)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">xml = function (dom) {
    if (dom) {
        dom = (typeof dom === &#x27;string&#x27;) ? select(dom, this._root, this.options) : dom;
        return render(dom, { xmlMode: true });
    } else if (this._root &#x26;&#x26; this._root.children) {
        return render(this._root.children, { xmlMode: true });
    } else {
        return &#x27;&#x27;;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return render(this._root.children, options);
} else {
    return &#x27;&#x27;;
}
};

/**
 * $.<span class="apidocCodeKeywordSpan">xml</span>([selector | dom])
 */

exports.xml = function (dom) {
if (dom) {
    dom = (typeof dom === &#x27;string&#x27;) ? select(dom, this._root, this.options) : dom;
    return render(dom, { xmlMode: true });
} else if (this._root &#x26;&#x26; this._root.children) {
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.whacko.cheerio.prototype" id="apidoc.module.whacko.cheerio.prototype">module whacko.cheerio.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype._make" id="apidoc.element.whacko.cheerio.prototype._make">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>_make
        <span class="apidocSignatureSpan">(dom, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_make = function (dom, context) {
  var cheerio = new Cheerio(dom, context, this._root, this.options);
  cheerio.prevObject = this;
  return cheerio;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var queryString = &#x27;input[type=radio][name=&#x22;&#x27; + this.attr(&#x27;name&#x27;) + &#x27;&#x22;]:checked&#x27;;
var parentEl, root;

// Go up until we hit a form or root
parentEl = this.closest(&#x27;form&#x27;);
if (parentEl.length === 0) {
  root = (this.parents().last()[0] || this[0]).root;
  parentEl = this.<span class="apidocCodeKeywordSpan">_make</span>(root);
}

if (querying) {
  return parentEl.find(queryString).attr(&#x27;value&#x27;);
} else {
  parentEl.find(&#x27;:checked&#x27;).removeAttr(&#x27;checked&#x27;);
  parentEl.find(&#x27;input[type=radio][value=&#x22;&#x27; + value + &#x27;&#x22;]&#x27;).attr(&#x27;checked&#x27;, &#x27;&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype._makeDomArray" id="apidoc.element.whacko.cheerio.prototype._makeDomArray">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>_makeDomArray
        <span class="apidocSignatureSpan">(elem)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function makeDomArray(elem) {
  if (elem == null) {
    return [];
  } else if (elem.cheerio) {
    return elem.get();
  } else if (Array.isArray(elem)) {
    return _.flatten(elem.map(makeDomArray, this));
  } else if (typeof elem === &#x27;string&#x27;) {
    return evaluate(elem, this.options);
  } else {
    return [elem];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
};

var _insert = function(concatenator) {
  return function() {
var self = this,
    elems = slice.call(arguments),
    dom = this.<span class="apidocCodeKeywordSpan">_makeDomArray</span>(elems);

if (typeof elems[0] === &#x27;function&#x27;) {
  return domEach(this, function(i, el) {
    dom = self._makeDomArray(elems[0].call(el, i, $.html(el.children)));
    concatenator(dom, el.children, el);
  });
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.add" id="apidoc.element.whacko.cheerio.prototype.add">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>add
        <span class="apidocSignatureSpan">(other, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (other, context) {
  var selection = this._make(other, context);
  var contents = uniqueSort(selection.get().concat(this.get()));

  for (var i = 0; i &#x3c; contents.length; ++i) {
    selection[i] = contents[i];
  }
  selection.length = contents.length;

  return selection;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.addBack" id="apidoc.element.whacko.cheerio.prototype.addBack">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>addBack
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addBack = function (selector) {
  return this.add(
    arguments.length ? this.prevObject.filter(selector) : this.prevObject
  );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.addClass" id="apidoc.element.whacko.cheerio.prototype.addClass">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>addClass
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addClass = function (value) {
  // Support functions
  if (typeof value === &#x27;function&#x27;) {
    return domEach(this, function(i, el) {
      var className = el.attribs[&#x27;class&#x27;] || &#x27;&#x27;;
      exports.addClass.call([el], value.call(el, i, className));
    });
  }

  // Return if no value or not a string or function
  if (!value || typeof value !== &#x27;string&#x27;) return this;

  var classNames = value.split(rspace),
      numElements = this.length;


  for (var i = 0; i &#x3c; numElements; i++) {
    // If selected element isn&#x27;t a tag, move on
    if (!isTag(this[i])) continue;

    // If we don&#x27;t already have classes
    var className = getAttr(this[i], &#x27;class&#x27;),
        numClasses,
        setClass;

    if (!className) {
      setAttr(this[i], &#x27;class&#x27;, classNames.join(&#x27; &#x27;).trim());
    } else {
      setClass = &#x27; &#x27; + className + &#x27; &#x27;;
      numClasses = classNames.length;

      // Check if class already exists
      for (var j = 0; j &#x3c; numClasses; j++) {
        var appendClass = classNames[j] + &#x27; &#x27;;
        if (!~setClass.indexOf(&#x27; &#x27; + appendClass))
          setClass += appendClass;
      }

      setAttr(this[i], &#x27;class&#x27;, setClass.trim());
    }
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.after" id="apidoc.element.whacko.cheerio.prototype.after">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>after
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">after = function () {
  var elems = slice.call(arguments),
      dom = this._makeDomArray(elems),
      self = this;

  domEach(this, function(i, el) {
    var parent = el.parent || el.root;
    if (!parent) {
      return;
    }

    var siblings = parent.children,
        index = siblings.indexOf(el);

    // If not found, move on
    if (!~index) return;

    if (typeof elems[0] === &#x27;function&#x27;) {
      dom = self._makeDomArray(elems[0].call(el, i));
    }

    // Add element after `this` element
    uniqueSplice(siblings, ++index, 0, dom, parent);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.append" id="apidoc.element.whacko.cheerio.prototype.append">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>append
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">append = function () {
  var self = this,
      elems = slice.call(arguments),
      dom = this._makeDomArray(elems);

  if (typeof elems[0] === &#x27;function&#x27;) {
    return domEach(this, function(i, el) {
      dom = self._makeDomArray(elems[0].call(el, i, $.html(el.children)));
      concatenator(dom, el.children, el);
    });
  } else {
    return domEach(this, function(i, el) {
      concatenator(dom, el.children, el);
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.attr" id="apidoc.element.whacko.cheerio.prototype.attr">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>attr
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">attr = function (name, value) {
  // Set the value (with attr map support)
  if (typeof name === &#x27;object&#x27; || value !== undefined) {
    if (typeof value === &#x27;function&#x27;) {
      return domEach(this, function(i, el) {
        setAttr(el, name, value.call(el, i, el.attribs[name]));
      });
    }
    return domEach(this, function(i, el) {
      if (!isTag(el)) return;

      if (typeof name === &#x27;object&#x27;) {
        _.each(name, function(name, key) {
          el.attribs[key] = name+&#x27;&#x27;;
        });
      } else {
        setAttr(el, name, value);
      }
    });
  }

  return getAttr(this[0], name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  if(!element) return;

  switch (element.name) {
    case &#x27;textarea&#x27;:
      return this.text(value);
    case &#x27;input&#x27;:
      switch (this.<span class="apidocCodeKeywordSpan">attr</span>(&#x27;type&#x27;)) {
        case &#x27;radio&#x27;:
var queryString = &#x27;input[type=radio][name=&#x22;&#x27; + this.attr(&#x27;name&#x27;) + &#x27;&#x22;]:checked&#x27;;
var parentEl, root;

// Go up until we hit a form or root
parentEl = this.closest(&#x27;form&#x27;);
if (parentEl.length === 0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.before" id="apidoc.element.whacko.cheerio.prototype.before">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>before
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">before = function () {
  var elems = slice.call(arguments),
      dom = this._makeDomArray(elems),
      self = this;

  domEach(this, function(i, el) {
    var parent = el.parent || el.root;
    if (!parent) {
      return;
    }

    var siblings = parent.children,
        index = siblings.indexOf(el);

    // If not found, move on
    if (!~index) return;

    if (typeof elems[0] === &#x27;function&#x27;) {
      dom = self._makeDomArray(elems[0].call(el, i));
    }

    // Add element before `el` element
    uniqueSplice(siblings, index, 0, dom, parent);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.children" id="apidoc.element.whacko.cheerio.prototype.children">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>children
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">children = function (selector) {

  var elems = _.reduce(this, function(memo, elem) {
    return memo.concat(_.filter(elem.children, isTag));
  }, []);

  if (selector === undefined) return this._make(elems);
  else if (typeof selector === &#x27;number&#x27;) return this._make(elems[selector]);

  return exports.filter.call(elems, selector, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._make(elems);
};

exports.siblings = function(selector) {
var parent = this.parent();

var elems = _.filter(
  parent ? parent.<span class="apidocCodeKeywordSpan">children</span>() : this.siblingsAndMe(),
  function(elem) { return isTag(elem) &#x26;&#x26; !this.is(elem); },
  this
);

if (selector !== undefined) {
  return exports.filter.call(elems, selector, this);
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.clone" id="apidoc.element.whacko.cheerio.prototype.clone">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function () {
  // Turn it into HTML, then recreate it,
  // Seems to be the easiest way to reconnect everything correctly
  return this._make($.html(this, this.options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var opts = this.options;

  domEach(this, function(i, el) {
    _.each(el.children, function(el) {
      el.next = el.prev = el.parent = null;
    });

    var content = str.cheerio ? str.<span class="apidocCodeKeywordSpan">clone</span>().get() : evaluate(str, opts);

    updateDOM(content, el);
  });

  return this;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.closest" id="apidoc.element.whacko.cheerio.prototype.closest">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>closest
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">closest = function (selector) {
  var set = [];

  if (!selector) {
    return this._make(set);
  }

  domEach(this, function(idx, elem) {
    var closestElem = traverseParents(this, elem, selector, 1)[0];

    // Do not add duplicate elements to the set
    if (closestElem &#x26;&#x26; set.indexOf(closestElem) &#x3c; 0) {
      set.push(closestElem);
    }
  }.bind(this));

  return this._make(set);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    case &#x27;input&#x27;:
      switch (this.attr(&#x27;type&#x27;)) {
        case &#x27;radio&#x27;:
var queryString = &#x27;input[type=radio][name=&#x22;&#x27; + this.attr(&#x27;name&#x27;) + &#x27;&#x22;]:checked&#x27;;
var parentEl, root;

// Go up until we hit a form or root
parentEl = this.<span class="apidocCodeKeywordSpan">closest</span>(&#x27;form&#x27;);
if (parentEl.length === 0) {
  root = (this.parents().last()[0] || this[0]).root;
  parentEl = this._make(root);
}

if (querying) {
  return parentEl.find(queryString).attr(&#x27;value&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.contents" id="apidoc.element.whacko.cheerio.prototype.contents">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>contents
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">contents = function () {
  return this._make(_.reduce(this, function(all, elem) {
    all.push.apply(all, elem.children);
    return all;
  }, []));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.css" id="apidoc.element.whacko.cheerio.prototype.css">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>css
        <span class="apidocSignatureSpan">(prop, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">css = function (prop, val) {
  if (arguments.length === 2 ||
    // When `prop` is a &#x22;plain&#x22; object
    (toString.call(prop) === &#x27;[object Object]&#x27;)) {
    return domEach(this, function(idx, el) {
      setCss(el, prop, val, idx);
    });
  } else {
    return getCss(this[0], prop);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.data" id="apidoc.element.whacko.cheerio.prototype.data">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>data
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">data = function (name, value) {
  var elem = this[0];

  if (!elem || !isTag(elem)) return;

  if (!elem.data) {
    elem.data = {};
  }

  // Return the entire data object if no data specified
  if (!name) {
    return readData(elem);
  }

  // Set the value (with attr map support)
  if (typeof name === &#x27;object&#x27; || value !== undefined) {
    domEach(this, function(i, el) {
      setData(el, name, value);
    });
    return this;
  } else if (hasOwn.call(elem.data, name)) {
    return elem.data[name];
  }

  return readData(elem, name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.each" id="apidoc.element.whacko.cheerio.prototype.each">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>each
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">each = function (fn) {
  var i = 0, len = this.length;
  while (i &#x3c; len &#x26;&#x26; fn.call(this[i], i, this[i]) !== false) ++i;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});
    }


    var output = &#x27;&#x27;,
xmlMode = opts.xmlMode;

    _.<span class="apidocCodeKeywordSpan">each</span>(dom, function (elem) {
var isTag = tagType[elem.type];

var pushVal;
if (isTag)
    pushVal = renderTag(elem, xmlMode);
else if (elem.type === &#x27;directive&#x27;)
    pushVal = renderDirective(elem);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.empty" id="apidoc.element.whacko.cheerio.prototype.empty">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>empty
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">empty = function () {
  domEach(this, function(i, el) {
    _.each(el.children, function(el) {
      el.next = el.prev = el.parent = null;
    });

    el.children.length = 0;
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.end" id="apidoc.element.whacko.cheerio.prototype.end">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>end
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function () {
  return this.prevObject || this._make([]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.eq" id="apidoc.element.whacko.cheerio.prototype.eq">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>eq
        <span class="apidocSignatureSpan">(i)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eq = function (i) {
  i = +i;

  // Use the first identity optimization if possible
  if (i === 0 &#x26;&#x26; this.length &#x3c;= 1) return this;

  if (i &#x3c; 0) i = this.length + i;
  return this[i] ? this._make(this[i]) : this._make([]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.filter" id="apidoc.element.whacko.cheerio.prototype.filter">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>filter
        <span class="apidocSignatureSpan">(match, container)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (match, container) {
  var testFn;
  container = container || this;

  if (typeof match === &#x27;string&#x27;) {
    testFn = select.compile(match, container.options);
  } else if (typeof match === &#x27;function&#x27;) {
    testFn = function(el, i) {
      return match.call(el, i, el);
    };
  } else if (match.cheerio) {
    testFn = match.is.bind(match);
  } else {
    testFn = function(el) {
      return match === el;
    };
  }

  return container._make(filterFn(this, testFn));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// attribute name is specified, read *all* HTML5 `data-*` attributes in this
// manner.
var readData = function(el, name) {
var readAll = arguments.length === 1;
var domNames, domName, jsNames, jsName, value, idx, length;

if (readAll) {
  domNames = Object.keys(el.attribs).<span class="apidocCodeKeywordSpan">filter</span>(function(attrName) {
    return attrName.slice(0, dataAttrPrefix.length) === dataAttrPrefix;
  });
  jsNames = domNames.map(function(domName) {
    return camelCase(domName.slice(dataAttrPrefix.length));
  });
} else {
  domNames = [dataAttrPrefix + cssCase(name)];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.find" id="apidoc.element.whacko.cheerio.prototype.find">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>find
        <span class="apidocSignatureSpan">(selectorOrHaystack)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">find = function (selectorOrHaystack) {
  var elems = _.reduce(this, function(memo, elem) {
    return memo.concat(_.filter(elem.children, isTag));
  }, []);
  var contains = this.constructor.contains;
  var haystack;

  if (selectorOrHaystack &#x26;&#x26; typeof selectorOrHaystack !== &#x27;string&#x27;) {
    if (selectorOrHaystack.cheerio) {
      haystack = selectorOrHaystack.get();
    } else {
      haystack = [selectorOrHaystack];
    }

    return this._make(haystack.filter(function(elem) {
      var idx, len;
      for (idx = 0, len = this.length; idx &#x3c; len; ++idx) {
        if (contains(this[idx], elem)) {
          return true;
        }
      }
    }, this));
  }

  return this._make(select(selectorOrHaystack, elems, this.options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  parentEl = this.closest(&#x27;form&#x27;);
  if (parentEl.length === 0) {
    root = (this.parents().last()[0] || this[0]).root;
    parentEl = this._make(root);
  }

  if (querying) {
    return parentEl.<span class="apidocCodeKeywordSpan">find</span>(queryString).attr(&#x27;value&#x27;);
  } else {
    parentEl.find(&#x27;:checked&#x27;).removeAttr(&#x27;checked&#x27;);
    parentEl.find(&#x27;input[type=radio][value=&#x22;&#x27; + value + &#x27;&#x22;]&#x27;).attr(&#x27;checked&#x27;, &#x27;&#x27
;);
    return this;
  }
  break;
default:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.first" id="apidoc.element.whacko.cheerio.prototype.first">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>first
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">first = function () {
  return this.length &#x3e; 1 ? this._make(this[0]) : this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.get" id="apidoc.element.whacko.cheerio.prototype.get">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>get
        <span class="apidocSignatureSpan">(i)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (i) {
  if (i == null) {
    return Array.prototype.slice.call(this);
  } else {
    return this[i &#x3c; 0 ? (this.length + i) : i];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Create an array of nodes, recursing into arrays and parsing strings if
// necessary
exports._makeDomArray = function makeDomArray(elem) {
if (elem == null) {
  return [];
} else if (elem.cheerio) {
  return elem.<span class="apidocCodeKeywordSpan">get</span>();
} else if (Array.isArray(elem)) {
  return _.flatten(elem.map(makeDomArray, this));
} else if (typeof elem === &#x27;string&#x27;) {
  return evaluate(elem, this.options);
} else {
  return [elem];
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.hasClass" id="apidoc.element.whacko.cheerio.prototype.hasClass">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>hasClass
        <span class="apidocSignatureSpan">(className)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasClass = function (className) {
  return _.any(this, function(elem) {
    var attrs = elem.attribs,
        clazz = attrs &#x26;&#x26; attrs[&#x27;class&#x27;],
        idx = -1,
        end;

    if (clazz) {
      while ((idx = clazz.indexOf(className, idx+1)) &#x3e; -1) {
        end = idx + className.length;

        if ((idx === 0 || rspace.test(clazz[idx-1]))
            &#x26;&#x26; (end === clazz.length || rspace.test(clazz[end]))) {
          return true;
        }
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.html" id="apidoc.element.whacko.cheerio.prototype.html">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>html
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">html = function (str) {
  if (str === undefined) {
    if (!this[0] || !this[0].children) return null;
    return $.html(this[0].children, this.options);
  }

  var opts = this.options;

  domEach(this, function(i, el) {
    _.each(el.children, function(el) {
      el.next = el.prev = el.parent = null;
    });

    var content = str.cheerio ? str.clone().get() : evaluate(str, opts);

    updateDOM(content, el);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// store options
initialize._options = options;

return initialize;
};

/**
 * $.<span class="apidocCodeKeywordSpan">html</span>([selector | dom])
 */

exports.html = function (dom, options) {
var Cheerio = require(&#x27;./cheerio&#x27;);

// be flexible about parameters, sometimes we call html(),
// with options as only parameter
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.index" id="apidoc.element.whacko.cheerio.prototype.index">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>index
        <span class="apidocSignatureSpan">(selectorOrNeedle)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">index = function (selectorOrNeedle) {
  var $haystack, needle;

  if (arguments.length === 0) {
    $haystack = this.parent().children();
    needle = this[0];
  } else if (typeof selectorOrNeedle === &#x27;string&#x27;) {
    $haystack = this._make(selectorOrNeedle);
    needle = this[0];
  } else {
    $haystack = this;
    needle = selectorOrNeedle.cheerio ? selectorOrNeedle[0] : selectorOrNeedle;
  }

  return $haystack.get().indexOf(needle);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.is" id="apidoc.element.whacko.cheerio.prototype.is">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>is
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">is = function (selector) {
  if (selector) {
    return this.filter(selector).length &#x3e; 0;
  }
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

exports.siblings = function(selector) {
var parent = this.parent();

var elems = _.filter(
  parent ? parent.children() : this.siblingsAndMe(),
  function(elem) { return isTag(elem) &#x26;&#x26; !this.<span class="apidocCodeKeywordSpan">is</span>(elem); },
  this
);

if (selector !== undefined) {
  return exports.filter.call(elems, selector, this);
} else {
  return this._make(elems);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.last" id="apidoc.element.whacko.cheerio.prototype.last">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>last
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">last = function () {
  return this.length &#x3e; 1 ? this._make(this[this.length - 1]) : this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        case &#x27;radio&#x27;:
var queryString = &#x27;input[type=radio][name=&#x22;&#x27; + this.attr(&#x27;name&#x27;) + &#x27;&#x22;]:checked&#x27;;
var parentEl, root;

// Go up until we hit a form or root
parentEl = this.closest(&#x27;form&#x27;);
if (parentEl.length === 0) {
  root = (this.parents().<span class="apidocCodeKeywordSpan">last</span>()[0] || this[0]).root;
  parentEl = this._make(root);
}

if (querying) {
  return parentEl.find(queryString).attr(&#x27;value&#x27;);
} else {
  parentEl.find(&#x27;:checked&#x27;).removeAttr(&#x27;checked&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.map" id="apidoc.element.whacko.cheerio.prototype.map">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>map
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (fn) {
  return this._make(_.reduce(this, function(memo, el, i) {
    var val = fn.call(el, i, el);
    return val == null ? memo : memo.concat(val);
  }, []));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var readAll = arguments.length === 1;
var domNames, domName, jsNames, jsName, value, idx, length;

if (readAll) {
  domNames = Object.keys(el.attribs).filter(function(attrName) {
    return attrName.slice(0, dataAttrPrefix.length) === dataAttrPrefix;
  });
  jsNames = domNames.<span class="apidocCodeKeywordSpan">map</span>(function(domName) {
    return camelCase(domName.slice(dataAttrPrefix.length));
  });
} else {
  domNames = [dataAttrPrefix + cssCase(name)];
  jsNames = [name];
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.next" id="apidoc.element.whacko.cheerio.prototype.next">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>next
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (selector) {
  if (!this[0]) { return this; }
  var elems = [];

  _.forEach(this, function(elem) {
    while ((elem = elem.next)) {
      if (isTag(elem)) {
        elems.push(elem);
        return;
      }
    }
  });

  return selector ?
    exports.filter.call(elems, selector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.nextAll" id="apidoc.element.whacko.cheerio.prototype.nextAll">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>nextAll
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextAll = function (selector) {
  if (!this[0]) { return this; }
  var elems = [];

  _.forEach(this, function(elem) {
    while ((elem = elem.next)) {
      if (isTag(elem) &#x26;&#x26; elems.indexOf(elem) === -1) {
        elems.push(elem);
      }
    }
  });

  return selector ?
    exports.filter.call(elems, selector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

exports.nextUntil = function(selector, filterSelector) {
if (!this[0]) { return this; }
var elems = [], untilNode, untilNodes;

if (typeof selector === &#x27;string&#x27;) {
  untilNode = select(selector, this.<span class="apidocCodeKeywordSpan">nextAll</span>().get(), this.options)[0];
} else if (selector &#x26;&#x26; selector.cheerio) {
  untilNodes = selector.get();
} else if (selector) {
  untilNode = selector;
}

_.forEach(this, function(elem) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.nextUntil" id="apidoc.element.whacko.cheerio.prototype.nextUntil">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>nextUntil
        <span class="apidocSignatureSpan">(selector, filterSelector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextUntil = function (selector, filterSelector) {
  if (!this[0]) { return this; }
  var elems = [], untilNode, untilNodes;

  if (typeof selector === &#x27;string&#x27;) {
    untilNode = select(selector, this.nextAll().get(), this.options)[0];
  } else if (selector &#x26;&#x26; selector.cheerio) {
    untilNodes = selector.get();
  } else if (selector) {
    untilNode = selector;
  }

  _.forEach(this, function(elem) {
    while ((elem = elem.next)) {
      if ((untilNode &#x26;&#x26; elem !== untilNode) ||
        (untilNodes &#x26;&#x26; untilNodes.indexOf(elem) === -1) ||
        (!untilNode &#x26;&#x26; !untilNodes)) {
        if (isTag(elem) &#x26;&#x26; elems.indexOf(elem) === -1) {
          elems.push(elem);
        }
      } else {
        break;
      }
    }
  });

  return filterSelector ?
    exports.filter.call(elems, filterSelector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.not" id="apidoc.element.whacko.cheerio.prototype.not">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>not
        <span class="apidocSignatureSpan">(match, container)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">not = function (match, container) {
  var testFn;
  container = container || this;

  if (typeof match === &#x27;string&#x27;) {
    testFn = select.compile(match, container.options);
  } else if (typeof match === &#x27;function&#x27;) {
    testFn = function(el, i) {
      return match.call(el, i, el);
    };
  } else if (match.cheerio) {
    testFn = match.is.bind(match);
  } else {
    testFn = function(el) {
      return match === el;
    };
  }

  return container._make(filterFn(this, testFn));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.parent" id="apidoc.element.whacko.cheerio.prototype.parent">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>parent
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parent = function (selector) {
  var set = [];

  domEach(this, function(idx, elem) {
    var parentElem = elem.parent;
    if (parentElem &#x26;&#x26; set.indexOf(parentElem) &#x3c; 0) {
      set.push(parentElem);
    }
  });

  if (arguments.length) {
    set = exports.filter.call(set, selector, this);
  }

  return this._make(set);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

return filterSelector ?
  exports.filter.call(elems, filterSelector, this) :
  this._make(elems);
};

exports.siblings = function(selector) {
var parent = this.<span class="apidocCodeKeywordSpan">parent</span>();

var elems = _.filter(
  parent ? parent.children() : this.siblingsAndMe(),
  function(elem) { return isTag(elem) &#x26;&#x26; !this.is(elem); },
  this
);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.parents" id="apidoc.element.whacko.cheerio.prototype.parents">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>parents
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parents = function (selector) {
  var parentNodes = [];

  // When multiple DOM elements are in the original set, the resulting set will
  // be in *reverse* order of the original elements as well, with duplicates
  // removed.
  this.get().reverse().forEach(function(elem) {
    traverseParents(this, elem.parent, selector, Infinity)
      .forEach(function(node) {
        if (parentNodes.indexOf(node) === -1) {
          parentNodes.push(node);
        }
      }
    );
  }, this);

  return this._make(parentNodes);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        case &#x27;radio&#x27;:
var queryString = &#x27;input[type=radio][name=&#x22;&#x27; + this.attr(&#x27;name&#x27;) + &#x27;&#x22;]:checked&#x27;;
var parentEl, root;

// Go up until we hit a form or root
parentEl = this.closest(&#x27;form&#x27;);
if (parentEl.length === 0) {
  root = (this.<span class="apidocCodeKeywordSpan">parents</span>().last()[0] || this[0]).root;
  parentEl = this._make(root);
}

if (querying) {
  return parentEl.find(queryString).attr(&#x27;value&#x27;);
} else {
  parentEl.find(&#x27;:checked&#x27;).removeAttr(&#x27;checked&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.parentsUntil" id="apidoc.element.whacko.cheerio.prototype.parentsUntil">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>parentsUntil
        <span class="apidocSignatureSpan">(selector, filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parentsUntil = function (selector, filter) {
  var parentNodes = [], untilNode, untilNodes;

  if (typeof selector === &#x27;string&#x27;) {
    untilNode = select(selector, this.parents().toArray(), this.options)[0];
  } else if (selector &#x26;&#x26; selector.cheerio) {
    untilNodes = selector.toArray();
  } else if (selector) {
    untilNode = selector;
  }

  // When multiple DOM elements are in the original set, the resulting set will
  // be in *reverse* order of the original elements as well, with duplicates
  // removed.

  this.toArray().reverse().forEach(function(elem) {
    while ((elem = elem.parent)) {
      if ((untilNode &#x26;&#x26; elem !== untilNode) ||
        (untilNodes &#x26;&#x26; untilNodes.indexOf(elem) === -1) ||
        (!untilNode &#x26;&#x26; !untilNodes)) {
        if (isTag(elem) &#x26;&#x26; parentNodes.indexOf(elem) === -1) { parentNodes.push(elem); }
      } else {
        break;
      }
    }
  }, this);

  return this._make(filter ? select(filter, parentNodes, this.options) : parentNodes);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.prepend" id="apidoc.element.whacko.cheerio.prototype.prepend">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>prepend
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prepend = function () {
  var self = this,
      elems = slice.call(arguments),
      dom = this._makeDomArray(elems);

  if (typeof elems[0] === &#x27;function&#x27;) {
    return domEach(this, function(i, el) {
      dom = self._makeDomArray(elems[0].call(el, i, $.html(el.children)));
      concatenator(dom, el.children, el);
    });
  } else {
    return domEach(this, function(i, el) {
      concatenator(dom, el.children, el);
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.prev" id="apidoc.element.whacko.cheerio.prototype.prev">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>prev
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (selector) {
  if (!this[0]) { return this; }
  var elems = [];

  _.forEach(this, function(elem) {
    while ((elem = elem.prev)) {
      if (isTag(elem)) {
        elems.push(elem);
        return;
      }
    }
  });

  return selector ?
    exports.filter.call(elems, selector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.prevAll" id="apidoc.element.whacko.cheerio.prototype.prevAll">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>prevAll
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prevAll = function (selector) {
  if (!this[0]) { return this; }
  var elems = [];

  _.forEach(this, function(elem) {
    while ((elem = elem.prev)) {
      if (isTag(elem) &#x26;&#x26; elems.indexOf(elem) === -1) {
        elems.push(elem);
      }
    }
  });

  return selector ?
    exports.filter.call(elems, selector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

exports.prevUntil = function(selector, filterSelector) {
if (!this[0]) { return this; }
var elems = [], untilNode, untilNodes;

if (typeof selector === &#x27;string&#x27;) {
  untilNode = select(selector, this.<span class="apidocCodeKeywordSpan">prevAll</span>().get(), this.options)[0];
} else if (selector &#x26;&#x26; selector.cheerio) {
  untilNodes = selector.get();
} else if (selector) {
  untilNode = selector;
}

_.forEach(this, function(elem) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.prevUntil" id="apidoc.element.whacko.cheerio.prototype.prevUntil">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>prevUntil
        <span class="apidocSignatureSpan">(selector, filterSelector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prevUntil = function (selector, filterSelector) {
  if (!this[0]) { return this; }
  var elems = [], untilNode, untilNodes;

  if (typeof selector === &#x27;string&#x27;) {
    untilNode = select(selector, this.prevAll().get(), this.options)[0];
  } else if (selector &#x26;&#x26; selector.cheerio) {
    untilNodes = selector.get();
  } else if (selector) {
    untilNode = selector;
  }

  _.forEach(this, function(elem) {
    while ((elem = elem.prev)) {
      if ((untilNode &#x26;&#x26; elem !== untilNode) ||
        (untilNodes &#x26;&#x26; untilNodes.indexOf(elem) === -1) ||
        (!untilNode &#x26;&#x26; !untilNodes)) {
        if (isTag(elem) &#x26;&#x26; elems.indexOf(elem) === -1) {
          elems.push(elem);
        }
      } else {
        break;
      }
    }
  });

  return filterSelector ?
    exports.filter.call(elems, filterSelector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.remove" id="apidoc.element.whacko.cheerio.prototype.remove">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>remove
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (selector) {
  var elems = this;

  // Filter if we have selector
  if (selector)
    elems = elems.filter(selector);

  domEach(elems, function(i, el) {
    var parent = el.parent || el.root;
    if (!parent) {
      return;
    }

    var siblings = parent.children,
        index = siblings.indexOf(el);

    if (!~index) return;


    siblings.splice(index, 1);
    if (el.prev) {
      el.prev.next = el.next;
    }
    if (el.next) {
      el.next.prev = el.prev;
    }
    el.prev = el.next = el.parent = el.root = null;
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

   if (typeof context === &#x27;boolean&#x27;) {
       keepScripts = context;
   }

   parsed = this.load(data, null, true);
   if (!keepScripts) {
       parsed(&#x27;script&#x27;).<span class="apidocCodeKeywordSpan">remove</span>();
   }

   return parsed.root()[0].children;
};

/**
* $.root()
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.removeAttr" id="apidoc.element.whacko.cheerio.prototype.removeAttr">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>removeAttr
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAttr = function (name) {
  domEach(this, function(i, elem) {
    removeAttribute(elem, name);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      root = (this.parents().last()[0] || this[0]).root;
      parentEl = this._make(root);
    }

    if (querying) {
      return parentEl.find(queryString).attr(&#x27;value&#x27;);
    } else {
      parentEl.find(&#x27;:checked&#x27;).<span class="apidocCodeKeywordSpan">removeAttr</span>(&#x27;checked&#x27;);
      parentEl.find(&#x27;input[type=radio][value=&#x22;&#x27; + value + &#x27;&#x22;]&#x27;).attr(&#x27;checked&#x27;, &#x27;&#
x27;);
      return this;
    }
    break;
  default:
    return this.attr(&#x27;value&#x27;, value);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.removeClass" id="apidoc.element.whacko.cheerio.prototype.removeClass">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>removeClass
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeClass = function (value) {
  var classes,
      numClasses,
      removeAll;

  // Handle if value is a function
  if (typeof value === &#x27;function&#x27;) {
    return domEach(this, function(i, el) {
      exports.removeClass.call(
        [el], value.call(el, i, el.attribs[&#x27;class&#x27;] || &#x27;&#x27;)
      );
    });
  }

  classes = splitClass(value);
  numClasses = classes.length;
  removeAll = arguments.length === 0;

  return domEach(this, function(i, el) {
    if (!isTag(el)) return;

    if (removeAll) {
      // Short circuit the remove all case as this is the nice one
      el.attribs.class = &#x27;&#x27;;
    } else {
      var elClasses = splitClass(el.attribs.class),
          index,
          changed;

      for (var j = 0; j &#x3c; numClasses; j++) {
        index = elClasses.indexOf(classes[j]);

        if (index &#x3e;= 0) {
          elClasses.splice(index, 1);
          changed = true;

          // We have to do another pass to ensure that there are not duplicate
          // classes listed
          j--;
        }
      }
      if (changed) {
        el.attribs.class = elClasses.join(&#x27; &#x27;);
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.replaceWith" id="apidoc.element.whacko.cheerio.prototype.replaceWith">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>replaceWith
        <span class="apidocSignatureSpan">(content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceWith = function (content) {
  var self = this;

  domEach(this, function(i, el) {
    var parent = el.parent || el.root;
    if (!parent) {
      return;
    }

    var siblings = parent.children,
        dom = self._makeDomArray(typeof content === &#x27;function&#x27; ? content.call(el, i, el) : content),
        index;

    // In the case that `dom` contains nodes that already exist in other
    // structures, ensure those nodes are properly removed.
    updateDOM(dom, null);

    index = siblings.indexOf(el);

    // Completely remove old element
    uniqueSplice(siblings, index, 1, dom, parent);
    el.parent = el.prev = el.next = el.root = null;
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.siblings" id="apidoc.element.whacko.cheerio.prototype.siblings">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>siblings
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">siblings = function (selector) {
  var parent = this.parent();

  var elems = _.filter(
    parent ? parent.children() : this.siblingsAndMe(),
    function(elem) { return isTag(elem) &#x26;&#x26; !this.is(elem); },
    this
  );

  if (selector !== undefined) {
    return exports.filter.call(elems, selector, this);
  } else {
    return this._make(elems);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.slice" id="apidoc.element.whacko.cheerio.prototype.slice">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>slice
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">slice = function () {
  return this._make([].slice.apply(this, arguments));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// manner.
var readData = function(el, name) {
var readAll = arguments.length === 1;
var domNames, domName, jsNames, jsName, value, idx, length;

if (readAll) {
  domNames = Object.keys(el.attribs).filter(function(attrName) {
    return attrName.<span class="apidocCodeKeywordSpan">slice</span>(0, dataAttrPrefix.length) === dataAttrPrefix;
  });
  jsNames = domNames.map(function(domName) {
    return camelCase(domName.slice(dataAttrPrefix.length));
  });
} else {
  domNames = [dataAttrPrefix + cssCase(name)];
  jsNames = [name];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.splice" id="apidoc.element.whacko.cheerio.prototype.splice">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>splice
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function splice() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    for (var i = 0; i &#x3c; arr.length; i++) {
var node = arr[i];

// Cleanly remove existing nodes from their previous structures.
var oldParent = node.parent || node.root,
    oldSiblings = oldParent &#x26;&#x26; oldParent.children;
if (oldSiblings &#x26;&#x26; oldSiblings !== arr) {
    oldSiblings.<span class="apidocCodeKeywordSpan">splice</span>(oldSiblings.indexOf(node), 1);
    if (node.prev) {
        node.prev.next = node.next;
    }
    if (node.next) {
        node.next.prev = node.prev;
    }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.text" id="apidoc.element.whacko.cheerio.prototype.text">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>text
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">text = function (str) {
  // If `str` is undefined, act as a &#x22;getter&#x22;
  if (str === undefined) {
    return $.text(this);
  } else if (typeof str === &#x27;function&#x27;) {
    // Function support
    return domEach(this, function(i, el) {
      var $el = [el];
      return exports.text.call($el, str.call(el, i, $.text($el)));
    });
  }

  // Append text node to each selected elements
  domEach(this, function(i, el) {
    _.each(el.children, function(el) {
      el.next = el.prev = el.parent = null;
    });

    var elem = {
      data: str,
      type: &#x27;text&#x27;,
      parent: el,
      prev: null,
      next: null,
      children: []
    };

    updateDOM(elem, el);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return render(this._root.children, { xmlMode: true });
} else {
    return &#x27;&#x27;;
}
};

/**
 * $.<span class="apidocCodeKeywordSpan">text</span>(dom)
 */

exports.text = function (elems) {
if (!elems) return &#x27;&#x27;;

var ret = &#x27;&#x27;,
    len = elems.length,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.toArray" id="apidoc.element.whacko.cheerio.prototype.toArray">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>toArray
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toArray = function () {
  return this.get();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return this._make(parentNodes);
};

exports.parentsUntil = function(selector, filter) {
var parentNodes = [], untilNode, untilNodes;

if (typeof selector === &#x27;string&#x27;) {
  untilNode = select(selector, this.parents().<span class="apidocCodeKeywordSpan">toArray</span>(), this.options)[0];
} else if (selector &#x26;&#x26; selector.cheerio) {
  untilNodes = selector.toArray();
} else if (selector) {
  untilNode = selector;
}

// When multiple DOM elements are in the original set, the resulting set will
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.toString" id="apidoc.element.whacko.cheerio.prototype.toString">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
  return $.html(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
exports.evaluate = function (content, options, isDocument) {
    var parser = new parse5.Parser(parse5.TreeAdapters.htmlparser2, {
decodeHtmlEntities: options.decodeHtmlEntities !== false
    });
    var dom = null;

    if (Buffer.isBuffer(content))
content = content.<span class="apidocCodeKeywordSpan">toString</span>();

    if (typeof content === &#x27;string&#x27;) {

if (isDocument || shouldParseAsDocument(content))
    dom = parser.parse(content);
else
    dom = parser.parseFragment(content);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.toggleClass" id="apidoc.element.whacko.cheerio.prototype.toggleClass">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>toggleClass
        <span class="apidocSignatureSpan">(value, stateVal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toggleClass = function (value, stateVal) {
  // Support functions
  if (typeof value === &#x27;function&#x27;) {
    return domEach(this, function(i, el) {
      exports.toggleClass.call(
        [el],
        value.call(el, i, el.attribs[&#x27;class&#x27;] || &#x27;&#x27;, stateVal),
        stateVal
      );
    });
  }

  // Return if no value or not a string or function
  if (!value || typeof value !== &#x27;string&#x27;) return this;

  var classNames = value.split(rspace),
    numClasses = classNames.length,
    state = typeof stateVal === &#x27;boolean&#x27; ? stateVal ? 1 : -1 : 0,
    numElements = this.length,
    elementClasses,
    index;

  for (var i = 0; i &#x3c; numElements; i++) {
    // If selected element isn&#x27;t a tag, move on
    if (!isTag(this[i])) continue;

    elementClasses = splitClass(this[i].attribs.class);

    // Check if class already exists
    for (var j = 0; j &#x3c; numClasses; j++) {
      // Check if the class name is currently defined
      index = elementClasses.indexOf(classNames[j]);

      // Add if stateValue === true or we are toggling and there is no value
      if (state &#x3e;= 0 &#x26;&#x26; index &#x3c; 0) {
        elementClasses.push(classNames[j]);
      } else if (state &#x3c;= 0 &#x26;&#x26; index &#x3e;= 0) {
        // Otherwise remove but only if the item exists
        elementClasses.splice(index, 1);
      }
    }

    this[i].attribs.class = elementClasses.join(&#x27; &#x27;);
  }

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.cheerio.prototype.val" id="apidoc.element.whacko.cheerio.prototype.val">
        function <span class="apidocSignatureSpan">whacko.cheerio.prototype.</span>val
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (value) {
  var querying = arguments.length === 0,
      element = this[0];

  if(!element) return;

  switch (element.name) {
    case &#x27;textarea&#x27;:
      return this.text(value);
    case &#x27;input&#x27;:
      switch (this.attr(&#x27;type&#x27;)) {
        case &#x27;radio&#x27;:
          var queryString = &#x27;input[type=radio][name=&#x22;&#x27; + this.attr(&#x27;name&#x27;) + &#x27;&#x22;]:checked&#x27;;
          var parentEl, root;

          // Go up until we hit a form or root
          parentEl = this.closest(&#x27;form&#x27;);
          if (parentEl.length === 0) {
            root = (this.parents().last()[0] || this[0]).root;
            parentEl = this._make(root);
          }

          if (querying) {
            return parentEl.find(queryString).attr(&#x27;value&#x27;);
          } else {
            parentEl.find(&#x27;:checked&#x27;).removeAttr(&#x27;checked&#x27;);
            parentEl.find(&#x27;input[type=radio][value=&#x22;&#x27; + value + &#x27;&#x22;]&#x27;).attr(&#x27;checked&#x27;, &#x27;&#x27;);
            return this;
          }
          break;
        default:
          return this.attr(&#x27;value&#x27;, value);
      }
      return;
    case &#x27;select&#x27;:
      var option = this.find(&#x27;option:selected&#x27;),
          returnValue;
      if (option === undefined) return undefined;
      if (!querying) {
        if (!this.attr().hasOwnProperty(&#x27;multiple&#x27;) &#x26;&#x26; typeof value == &#x27;object&#x27;) {
          return this;
        }
        if (typeof value != &#x27;object&#x27;) {
          value = [value];
        }
        this.find(&#x27;option&#x27;).removeAttr(&#x27;selected&#x27;);
        for (var i = 0; i &#x3c; value.length; i++) {
          this.find(&#x27;option[value=&#x22;&#x27; + value[i] + &#x27;&#x22;]&#x27;).attr(&#x27;selected&#x27;, &#x27;&#x27;);
        }
        return this;
      }
      returnValue = option.attr(&#x27;value&#x27;);
      if (this.attr().hasOwnProperty(&#x27;multiple&#x27;)) {
        returnValue = [];
        domEach(option, function(i, el) {
          returnValue.push(el.attribs.value);
        });
      }
      return returnValue;
    case &#x27;option&#x27;:
      if (!querying) {
        this.attr(&#x27;value&#x27;, value);
        return this;
      }
      return this.attr(&#x27;value&#x27;);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.whacko.css" id="apidoc.module.whacko.css">module whacko.css</a></h1>


    <h2>
        <a href="#apidoc.element.whacko.css.css" id="apidoc.element.whacko.css.css">
        function <span class="apidocSignatureSpan">whacko.</span>css
        <span class="apidocSignatureSpan">(prop, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">css = function (prop, val) {
  if (arguments.length === 2 ||
    // When `prop` is a &#x22;plain&#x22; object
    (toString.call(prop) === &#x27;[object Object]&#x27;)) {
    return domEach(this, function(idx, el) {
      setCss(el, prop, val, idx);
    });
  } else {
    return getCss(this[0], prop);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.whacko.manipulation" id="apidoc.module.whacko.manipulation">module whacko.manipulation</a></h1>


    <h2>
        <a href="#apidoc.element.whacko.manipulation._makeDomArray" id="apidoc.element.whacko.manipulation._makeDomArray">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>_makeDomArray
        <span class="apidocSignatureSpan">(elem)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function makeDomArray(elem) {
  if (elem == null) {
    return [];
  } else if (elem.cheerio) {
    return elem.get();
  } else if (Array.isArray(elem)) {
    return _.flatten(elem.map(makeDomArray, this));
  } else if (typeof elem === &#x27;string&#x27;) {
    return evaluate(elem, this.options);
  } else {
    return [elem];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
};

var _insert = function(concatenator) {
  return function() {
var self = this,
    elems = slice.call(arguments),
    dom = this.<span class="apidocCodeKeywordSpan">_makeDomArray</span>(elems);

if (typeof elems[0] === &#x27;function&#x27;) {
  return domEach(this, function(i, el) {
    dom = self._makeDomArray(elems[0].call(el, i, $.html(el.children)));
    concatenator(dom, el.children, el);
  });
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.manipulation.after" id="apidoc.element.whacko.manipulation.after">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>after
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">after = function () {
  var elems = slice.call(arguments),
      dom = this._makeDomArray(elems),
      self = this;

  domEach(this, function(i, el) {
    var parent = el.parent || el.root;
    if (!parent) {
      return;
    }

    var siblings = parent.children,
        index = siblings.indexOf(el);

    // If not found, move on
    if (!~index) return;

    if (typeof elems[0] === &#x27;function&#x27;) {
      dom = self._makeDomArray(elems[0].call(el, i));
    }

    // Add element after `this` element
    uniqueSplice(siblings, ++index, 0, dom, parent);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.manipulation.append" id="apidoc.element.whacko.manipulation.append">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>append
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">append = function () {
  var self = this,
      elems = slice.call(arguments),
      dom = this._makeDomArray(elems);

  if (typeof elems[0] === &#x27;function&#x27;) {
    return domEach(this, function(i, el) {
      dom = self._makeDomArray(elems[0].call(el, i, $.html(el.children)));
      concatenator(dom, el.children, el);
    });
  } else {
    return domEach(this, function(i, el) {
      concatenator(dom, el.children, el);
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.manipulation.before" id="apidoc.element.whacko.manipulation.before">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>before
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">before = function () {
  var elems = slice.call(arguments),
      dom = this._makeDomArray(elems),
      self = this;

  domEach(this, function(i, el) {
    var parent = el.parent || el.root;
    if (!parent) {
      return;
    }

    var siblings = parent.children,
        index = siblings.indexOf(el);

    // If not found, move on
    if (!~index) return;

    if (typeof elems[0] === &#x27;function&#x27;) {
      dom = self._makeDomArray(elems[0].call(el, i));
    }

    // Add element before `el` element
    uniqueSplice(siblings, index, 0, dom, parent);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.manipulation.clone" id="apidoc.element.whacko.manipulation.clone">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>clone
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clone = function () {
  // Turn it into HTML, then recreate it,
  // Seems to be the easiest way to reconnect everything correctly
  return this._make($.html(this, this.options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var opts = this.options;

  domEach(this, function(i, el) {
    _.each(el.children, function(el) {
      el.next = el.prev = el.parent = null;
    });

    var content = str.cheerio ? str.<span class="apidocCodeKeywordSpan">clone</span>().get() : evaluate(str, opts);

    updateDOM(content, el);
  });

  return this;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.manipulation.empty" id="apidoc.element.whacko.manipulation.empty">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>empty
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">empty = function () {
  domEach(this, function(i, el) {
    _.each(el.children, function(el) {
      el.next = el.prev = el.parent = null;
    });

    el.children.length = 0;
  });
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.manipulation.html" id="apidoc.element.whacko.manipulation.html">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>html
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">html = function (str) {
  if (str === undefined) {
    if (!this[0] || !this[0].children) return null;
    return $.html(this[0].children, this.options);
  }

  var opts = this.options;

  domEach(this, function(i, el) {
    _.each(el.children, function(el) {
      el.next = el.prev = el.parent = null;
    });

    var content = str.cheerio ? str.clone().get() : evaluate(str, opts);

    updateDOM(content, el);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// store options
initialize._options = options;

return initialize;
};

/**
 * $.<span class="apidocCodeKeywordSpan">html</span>([selector | dom])
 */

exports.html = function (dom, options) {
var Cheerio = require(&#x27;./cheerio&#x27;);

// be flexible about parameters, sometimes we call html(),
// with options as only parameter
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.manipulation.prepend" id="apidoc.element.whacko.manipulation.prepend">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>prepend
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prepend = function () {
  var self = this,
      elems = slice.call(arguments),
      dom = this._makeDomArray(elems);

  if (typeof elems[0] === &#x27;function&#x27;) {
    return domEach(this, function(i, el) {
      dom = self._makeDomArray(elems[0].call(el, i, $.html(el.children)));
      concatenator(dom, el.children, el);
    });
  } else {
    return domEach(this, function(i, el) {
      concatenator(dom, el.children, el);
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.manipulation.remove" id="apidoc.element.whacko.manipulation.remove">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>remove
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (selector) {
  var elems = this;

  // Filter if we have selector
  if (selector)
    elems = elems.filter(selector);

  domEach(elems, function(i, el) {
    var parent = el.parent || el.root;
    if (!parent) {
      return;
    }

    var siblings = parent.children,
        index = siblings.indexOf(el);

    if (!~index) return;


    siblings.splice(index, 1);
    if (el.prev) {
      el.prev.next = el.next;
    }
    if (el.next) {
      el.next.prev = el.prev;
    }
    el.prev = el.next = el.parent = el.root = null;
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

   if (typeof context === &#x27;boolean&#x27;) {
       keepScripts = context;
   }

   parsed = this.load(data, null, true);
   if (!keepScripts) {
       parsed(&#x27;script&#x27;).<span class="apidocCodeKeywordSpan">remove</span>();
   }

   return parsed.root()[0].children;
};

/**
* $.root()
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.manipulation.replaceWith" id="apidoc.element.whacko.manipulation.replaceWith">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>replaceWith
        <span class="apidocSignatureSpan">(content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceWith = function (content) {
  var self = this;

  domEach(this, function(i, el) {
    var parent = el.parent || el.root;
    if (!parent) {
      return;
    }

    var siblings = parent.children,
        dom = self._makeDomArray(typeof content === &#x27;function&#x27; ? content.call(el, i, el) : content),
        index;

    // In the case that `dom` contains nodes that already exist in other
    // structures, ensure those nodes are properly removed.
    updateDOM(dom, null);

    index = siblings.indexOf(el);

    // Completely remove old element
    uniqueSplice(siblings, index, 1, dom, parent);
    el.parent = el.prev = el.next = el.root = null;
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.manipulation.text" id="apidoc.element.whacko.manipulation.text">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>text
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">text = function (str) {
  // If `str` is undefined, act as a &#x22;getter&#x22;
  if (str === undefined) {
    return $.text(this);
  } else if (typeof str === &#x27;function&#x27;) {
    // Function support
    return domEach(this, function(i, el) {
      var $el = [el];
      return exports.text.call($el, str.call(el, i, $.text($el)));
    });
  }

  // Append text node to each selected elements
  domEach(this, function(i, el) {
    _.each(el.children, function(el) {
      el.next = el.prev = el.parent = null;
    });

    var elem = {
      data: str,
      type: &#x27;text&#x27;,
      parent: el,
      prev: null,
      next: null,
      children: []
    };

    updateDOM(elem, el);
  });

  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return render(this._root.children, { xmlMode: true });
} else {
    return &#x27;&#x27;;
}
};

/**
 * $.<span class="apidocCodeKeywordSpan">text</span>(dom)
 */

exports.text = function (elems) {
if (!elems) return &#x27;&#x27;;

var ret = &#x27;&#x27;,
    len = elems.length,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.manipulation.toString" id="apidoc.element.whacko.manipulation.toString">
        function <span class="apidocSignatureSpan">whacko.manipulation.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
  return $.html(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
exports.evaluate = function (content, options, isDocument) {
    var parser = new parse5.Parser(parse5.TreeAdapters.htmlparser2, {
decodeHtmlEntities: options.decodeHtmlEntities !== false
    });
    var dom = null;

    if (Buffer.isBuffer(content))
content = content.<span class="apidocCodeKeywordSpan">toString</span>();

    if (typeof content === &#x27;string&#x27;) {

if (isDocument || shouldParseAsDocument(content))
    dom = parser.parse(content);
else
    dom = parser.parseFragment(content);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.whacko.parse" id="apidoc.module.whacko.parse">module whacko.parse</a></h1>


    <h2>
        <a href="#apidoc.element.whacko.parse.parse" id="apidoc.element.whacko.parse.parse">
        function <span class="apidocSignatureSpan">whacko.</span>parse
        <span class="apidocSignatureSpan">(content, options, isDocument)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (content, options, isDocument) {
    var dom = exports.evaluate(content, options, isDocument);

    // Generic root element
    var root = parse5.TreeAdapters.htmlparser2.createDocument();

    // Update the dom using the root
    exports.update(dom, root);

    return root;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (Buffer.isBuffer(content))
    content = content.toString();

if (typeof content === &#x27;string&#x27;) {

    if (isDocument || shouldParseAsDocument(content))
        dom = parser.<span class="apidocCodeKeywordSpan">parse</span>(content);
    else
        dom = parser.parseFragment(content);

    dom = dom.children;

    return dom;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.parse.evaluate" id="apidoc.element.whacko.parse.evaluate">
        function <span class="apidocSignatureSpan">whacko.parse.</span>evaluate
        <span class="apidocSignatureSpan">(content, options, isDocument)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">evaluate = function (content, options, isDocument) {
    var parser = new parse5.Parser(parse5.TreeAdapters.htmlparser2, {
        decodeHtmlEntities: options.decodeHtmlEntities !== false
    });
    var dom = null;

    if (Buffer.isBuffer(content))
        content = content.toString();

    if (typeof content === &#x27;string&#x27;) {

        if (isDocument || shouldParseAsDocument(content))
            dom = parser.parse(content);
        else
            dom = parser.parseFragment(content);

        dom = dom.children;

        return dom;
    }

    return content;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var parse5 = require(&#x27;parse5&#x27;);


/*
 Parser
 */
exports = module.exports = function (content, options, isDocument) {
var dom = exports.<span class="apidocCodeKeywordSpan">evaluate</span>(content, options, isDocument);

// Generic root element
var root = parse5.TreeAdapters.htmlparser2.createDocument();

// Update the dom using the root
exports.update(dom, root);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.parse.update" id="apidoc.element.whacko.parse.update">
        function <span class="apidocSignatureSpan">whacko.parse.</span>update
        <span class="apidocSignatureSpan">(arr, parent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (arr, parent) {
    // normalize
    if (!Array.isArray(arr)) arr = [arr];

    // Update parent
    if (parent) {
        parent.children = arr;
    } else {
        parent = null;
    }

    // Update neighbors
    for (var i = 0; i &#x3c; arr.length; i++) {
        var node = arr[i];

        // Cleanly remove existing nodes from their previous structures.
        var oldParent = node.parent || node.root,
            oldSiblings = oldParent &#x26;&#x26; oldParent.children;
        if (oldSiblings &#x26;&#x26; oldSiblings !== arr) {
            oldSiblings.splice(oldSiblings.indexOf(node), 1);
            if (node.prev) {
                node.prev.next = node.next;
            }
            if (node.next) {
                node.next.prev = node.prev;
            }
        }

        if (parent) {
            node.prev = arr[i - 1] || null;
            node.next = arr[i + 1] || null;
        } else {
            node.prev = node.next = null;
        }

        if (parent &#x26;&#x26; parent.type === &#x27;root&#x27;) {
            node.root = parent;
            node.parent = null;
        } else {
            node.root = null;
            node.parent = parent;
        }
    }

    return parent;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
exports = module.exports = function (content, options, isDocument) {
var dom = exports.evaluate(content, options, isDocument);

// Generic root element
var root = parse5.TreeAdapters.htmlparser2.createDocument();

// Update the dom using the root
exports.<span class="apidocCodeKeywordSpan">update</span>(dom, root);

return root;
};

var shouldParseAsDocument = function (content) {
//NOTE: if evaluate was called in fragment parsing mode, but doctype or &#x3c;html&#x3e; tag was passed
//we should switch to document parsing mode. This is a pretty simple heuristic, e.g. we don&#x27;t expect
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.whacko.static" id="apidoc.module.whacko.static">module whacko.static</a></h1>


    <h2>
        <a href="#apidoc.element.whacko.static.contains" id="apidoc.element.whacko.static.contains">
        function <span class="apidocSignatureSpan">whacko.static.</span>contains
        <span class="apidocSignatureSpan">(container, contained)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">contains = function (container, contained) {

    // According to the jQuery API, an element does not &#x22;contain&#x22; itself
    if (contained === container) {
        return false;
    }

    // Step up the descendants, stopping when the root element is reached
    // (signaled by `.parent` returning a reference to the same object)
    while (contained &#x26;&#x26; contained !== contained.parent) {
        contained = contained.parent;
        if (contained === container) {
            return true;
        }
    }

    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * $.root()
 */
exports.root = function () {
return this(this._root);
};

/**
 * $.<span class="apidocCodeKeywordSpan">contains</span>()
 */
exports.contains = function (container, contained) {

// According to the jQuery API, an element does not &#x22;contain&#x22; itself
if (contained === container) {
    return false;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.static.html" id="apidoc.element.whacko.static.html">
        function <span class="apidocSignatureSpan">whacko.static.</span>html
        <span class="apidocSignatureSpan">(dom, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">html = function (dom, options) {
    var Cheerio = require(&#x27;./cheerio&#x27;);

    // be flexible about parameters, sometimes we call html(),
    // with options as only parameter
    // check dom argument for dom element specific properties
    // assume there is no &#x27;length&#x27; or &#x27;type&#x27; properties in the options object
    if (Object.prototype.toString.call(dom) === &#x27;[object Object]&#x27; &#x26;&#x26; !options &#x26;&#x26; !(&#x27;length&#x27; in dom) &#x26;&#x26;
        !(&#x27;type&#x27; in dom)) {
        options = dom;
        dom = undefined;
    }

    // sometimes $.html() used without preloading html
    // so fallback non existing options to the default ones
    options = _.defaults(options || {}, this._options, Cheerio.prototype.options);

    if (dom) {
        dom = (typeof dom === &#x27;string&#x27;) ? select(dom, this._root, options) : dom;
        return render(dom, options);
    } else if (this._root &#x26;&#x26; this._root.children) {
        return render(this._root.children, options);
    } else {
        return &#x27;&#x27;;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// store options
initialize._options = options;

return initialize;
};

/**
 * $.<span class="apidocCodeKeywordSpan">html</span>([selector | dom])
 */

exports.html = function (dom, options) {
var Cheerio = require(&#x27;./cheerio&#x27;);

// be flexible about parameters, sometimes we call html(),
// with options as only parameter
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.static.load" id="apidoc.element.whacko.static.load">
        function <span class="apidocSignatureSpan">whacko.static.</span>load
        <span class="apidocSignatureSpan">(content, options, isFragment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (content, options, isFragment) {
    var Cheerio = require(&#x27;./cheerio&#x27;);

    options = _.defaults(options || {}, Cheerio.prototype.options);

    var root = parse(content, options, !isFragment);

    var initialize = function (selector, context, r, opts) {
        opts = _.defaults(opts || {}, options);
        return Cheerio.call(this, selector, context, r || root, opts);
    };

    // Ensure that selections created by the &#x22;loaded&#x22; `initialize` function are
    // true Cheerio instances.
    initialize.prototype = Cheerio.prototype;

    // Add in the static methods
    _.merge(initialize, exports);

    // Add in the root
    initialize._root = root;
    // store options
    initialize._options = options;

    return initialize;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Install
```
$ npm install whacko
```

## API
Difference with cheerio:
* Use `$.<span class="apidocCodeKeywordSpan">load</span>(content)` to load HTML documents (e.g. missing `&#x3c;html&#x3e;` tags
will be automatically emitted in this case).
* Use `$(content)` to create HTML-fragments which can be later added to the loaded document.
* Parser options (e.g. `xmlMode` and `normalizeWhitespace`) are missing since whacko is intended for spec compliant HTML parsing
.
* New parser option `encodeEntities` added. When false, it disables HTML entities decoding on serialization.
* New parser option `decodeHtmlEntities` added. When false, it disables HTML entities decoding on parse.

In all other aspects it is the same with the [cheerio API](https://github.com/cheeriojs/cheerio#api).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.static.parseHTML" id="apidoc.element.whacko.static.parseHTML">
        function <span class="apidocSignatureSpan">whacko.static.</span>parseHTML
        <span class="apidocSignatureSpan">(data, context, keepScripts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseHTML = function (data, context, keepScripts) {
    var parsed;

    if (!data || typeof data !== &#x27;string&#x27;) {
        return null;
    }

    if (typeof context === &#x27;boolean&#x27;) {
        keepScripts = context;
    }

    parsed = this.load(data, null, true);
    if (!keepScripts) {
        parsed(&#x27;script&#x27;).remove();
    }

    return parsed.root()[0].children;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
}

return ret;
};

/**
 * $.<span class="apidocCodeKeywordSpan">parseHTML</span>(data [, context ] [, keepScripts ])
 * Parses a string into an array of DOM nodes. The `context` argument has no
 * meaning for Cheerio, but it is maintained for API compatibility with jQuery.
 */
exports.parseHTML = function (data, context, keepScripts) {
var parsed;

if (!data || typeof data !== &#x27;string&#x27;) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.static.root" id="apidoc.element.whacko.static.root">
        function <span class="apidocSignatureSpan">whacko.static.</span>root
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">root = function () {
    return this(this._root);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

parsed = this.load(data, null, true);
if (!keepScripts) {
    parsed(&#x27;script&#x27;).remove();
}

return parsed.<span class="apidocCodeKeywordSpan">root</span>()[0].children;
};

/**
 * $.root()
 */
exports.root = function () {
return this(this._root);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.static.text" id="apidoc.element.whacko.static.text">
        function <span class="apidocSignatureSpan">whacko.static.</span>text
        <span class="apidocSignatureSpan">(elems)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">text = function (elems) {
    if (!elems) return &#x27;&#x27;;

    var ret = &#x27;&#x27;,
        len = elems.length,
        elem;

    for (var i = 0; i &#x3c; len; i++) {
        elem = elems[i];
        if (elem.type === &#x27;text&#x27;) ret += elem.data;
        else if (elem.children &#x26;&#x26; elem.type !== &#x27;comment&#x27;) {
            ret += exports.text(elem.children);
        }
    }

    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return render(this._root.children, { xmlMode: true });
} else {
    return &#x27;&#x27;;
}
};

/**
 * $.<span class="apidocCodeKeywordSpan">text</span>(dom)
 */

exports.text = function (elems) {
if (!elems) return &#x27;&#x27;;

var ret = &#x27;&#x27;,
    len = elems.length,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.static.xml" id="apidoc.element.whacko.static.xml">
        function <span class="apidocSignatureSpan">whacko.static.</span>xml
        <span class="apidocSignatureSpan">(dom)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">xml = function (dom) {
    if (dom) {
        dom = (typeof dom === &#x27;string&#x27;) ? select(dom, this._root, this.options) : dom;
        return render(dom, { xmlMode: true });
    } else if (this._root &#x26;&#x26; this._root.children) {
        return render(this._root.children, { xmlMode: true });
    } else {
        return &#x27;&#x27;;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return render(this._root.children, options);
} else {
    return &#x27;&#x27;;
}
};

/**
 * $.<span class="apidocCodeKeywordSpan">xml</span>([selector | dom])
 */

exports.xml = function (dom) {
if (dom) {
    dom = (typeof dom === &#x27;string&#x27;) ? select(dom, this._root, this.options) : dom;
    return render(dom, { xmlMode: true });
} else if (this._root &#x26;&#x26; this._root.children) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.whacko.traversing" id="apidoc.module.whacko.traversing">module whacko.traversing</a></h1>


    <h2>
        <a href="#apidoc.element.whacko.traversing.add" id="apidoc.element.whacko.traversing.add">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>add
        <span class="apidocSignatureSpan">(other, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">add = function (other, context) {
  var selection = this._make(other, context);
  var contents = uniqueSort(selection.get().concat(this.get()));

  for (var i = 0; i &#x3c; contents.length; ++i) {
    selection[i] = contents[i];
  }
  selection.length = contents.length;

  return selection;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.addBack" id="apidoc.element.whacko.traversing.addBack">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>addBack
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addBack = function (selector) {
  return this.add(
    arguments.length ? this.prevObject.filter(selector) : this.prevObject
  );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.children" id="apidoc.element.whacko.traversing.children">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>children
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">children = function (selector) {

  var elems = _.reduce(this, function(memo, elem) {
    return memo.concat(_.filter(elem.children, isTag));
  }, []);

  if (selector === undefined) return this._make(elems);
  else if (typeof selector === &#x27;number&#x27;) return this._make(elems[selector]);

  return exports.filter.call(elems, selector, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._make(elems);
};

exports.siblings = function(selector) {
var parent = this.parent();

var elems = _.filter(
  parent ? parent.<span class="apidocCodeKeywordSpan">children</span>() : this.siblingsAndMe(),
  function(elem) { return isTag(elem) &#x26;&#x26; !this.is(elem); },
  this
);

if (selector !== undefined) {
  return exports.filter.call(elems, selector, this);
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.closest" id="apidoc.element.whacko.traversing.closest">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>closest
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">closest = function (selector) {
  var set = [];

  if (!selector) {
    return this._make(set);
  }

  domEach(this, function(idx, elem) {
    var closestElem = traverseParents(this, elem, selector, 1)[0];

    // Do not add duplicate elements to the set
    if (closestElem &#x26;&#x26; set.indexOf(closestElem) &#x3c; 0) {
      set.push(closestElem);
    }
  }.bind(this));

  return this._make(set);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    case &#x27;input&#x27;:
      switch (this.attr(&#x27;type&#x27;)) {
        case &#x27;radio&#x27;:
var queryString = &#x27;input[type=radio][name=&#x22;&#x27; + this.attr(&#x27;name&#x27;) + &#x27;&#x22;]:checked&#x27;;
var parentEl, root;

// Go up until we hit a form or root
parentEl = this.<span class="apidocCodeKeywordSpan">closest</span>(&#x27;form&#x27;);
if (parentEl.length === 0) {
  root = (this.parents().last()[0] || this[0]).root;
  parentEl = this._make(root);
}

if (querying) {
  return parentEl.find(queryString).attr(&#x27;value&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.contents" id="apidoc.element.whacko.traversing.contents">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>contents
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">contents = function () {
  return this._make(_.reduce(this, function(all, elem) {
    all.push.apply(all, elem.children);
    return all;
  }, []));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.each" id="apidoc.element.whacko.traversing.each">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>each
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">each = function (fn) {
  var i = 0, len = this.length;
  while (i &#x3c; len &#x26;&#x26; fn.call(this[i], i, this[i]) !== false) ++i;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});
    }


    var output = &#x27;&#x27;,
xmlMode = opts.xmlMode;

    _.<span class="apidocCodeKeywordSpan">each</span>(dom, function (elem) {
var isTag = tagType[elem.type];

var pushVal;
if (isTag)
    pushVal = renderTag(elem, xmlMode);
else if (elem.type === &#x27;directive&#x27;)
    pushVal = renderDirective(elem);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.end" id="apidoc.element.whacko.traversing.end">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>end
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function () {
  return this.prevObject || this._make([]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.eq" id="apidoc.element.whacko.traversing.eq">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>eq
        <span class="apidocSignatureSpan">(i)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eq = function (i) {
  i = +i;

  // Use the first identity optimization if possible
  if (i === 0 &#x26;&#x26; this.length &#x3c;= 1) return this;

  if (i &#x3c; 0) i = this.length + i;
  return this[i] ? this._make(this[i]) : this._make([]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.filter" id="apidoc.element.whacko.traversing.filter">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>filter
        <span class="apidocSignatureSpan">(match, container)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">filter = function (match, container) {
  var testFn;
  container = container || this;

  if (typeof match === &#x27;string&#x27;) {
    testFn = select.compile(match, container.options);
  } else if (typeof match === &#x27;function&#x27;) {
    testFn = function(el, i) {
      return match.call(el, i, el);
    };
  } else if (match.cheerio) {
    testFn = match.is.bind(match);
  } else {
    testFn = function(el) {
      return match === el;
    };
  }

  return container._make(filterFn(this, testFn));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// attribute name is specified, read *all* HTML5 `data-*` attributes in this
// manner.
var readData = function(el, name) {
var readAll = arguments.length === 1;
var domNames, domName, jsNames, jsName, value, idx, length;

if (readAll) {
  domNames = Object.keys(el.attribs).<span class="apidocCodeKeywordSpan">filter</span>(function(attrName) {
    return attrName.slice(0, dataAttrPrefix.length) === dataAttrPrefix;
  });
  jsNames = domNames.map(function(domName) {
    return camelCase(domName.slice(dataAttrPrefix.length));
  });
} else {
  domNames = [dataAttrPrefix + cssCase(name)];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.find" id="apidoc.element.whacko.traversing.find">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>find
        <span class="apidocSignatureSpan">(selectorOrHaystack)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">find = function (selectorOrHaystack) {
  var elems = _.reduce(this, function(memo, elem) {
    return memo.concat(_.filter(elem.children, isTag));
  }, []);
  var contains = this.constructor.contains;
  var haystack;

  if (selectorOrHaystack &#x26;&#x26; typeof selectorOrHaystack !== &#x27;string&#x27;) {
    if (selectorOrHaystack.cheerio) {
      haystack = selectorOrHaystack.get();
    } else {
      haystack = [selectorOrHaystack];
    }

    return this._make(haystack.filter(function(elem) {
      var idx, len;
      for (idx = 0, len = this.length; idx &#x3c; len; ++idx) {
        if (contains(this[idx], elem)) {
          return true;
        }
      }
    }, this));
  }

  return this._make(select(selectorOrHaystack, elems, this.options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  parentEl = this.closest(&#x27;form&#x27;);
  if (parentEl.length === 0) {
    root = (this.parents().last()[0] || this[0]).root;
    parentEl = this._make(root);
  }

  if (querying) {
    return parentEl.<span class="apidocCodeKeywordSpan">find</span>(queryString).attr(&#x27;value&#x27;);
  } else {
    parentEl.find(&#x27;:checked&#x27;).removeAttr(&#x27;checked&#x27;);
    parentEl.find(&#x27;input[type=radio][value=&#x22;&#x27; + value + &#x27;&#x22;]&#x27;).attr(&#x27;checked&#x27;, &#x27;&#x27
;);
    return this;
  }
  break;
default:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.first" id="apidoc.element.whacko.traversing.first">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>first
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">first = function () {
  return this.length &#x3e; 1 ? this._make(this[0]) : this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.get" id="apidoc.element.whacko.traversing.get">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>get
        <span class="apidocSignatureSpan">(i)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (i) {
  if (i == null) {
    return Array.prototype.slice.call(this);
  } else {
    return this[i &#x3c; 0 ? (this.length + i) : i];
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Create an array of nodes, recursing into arrays and parsing strings if
// necessary
exports._makeDomArray = function makeDomArray(elem) {
if (elem == null) {
  return [];
} else if (elem.cheerio) {
  return elem.<span class="apidocCodeKeywordSpan">get</span>();
} else if (Array.isArray(elem)) {
  return _.flatten(elem.map(makeDomArray, this));
} else if (typeof elem === &#x27;string&#x27;) {
  return evaluate(elem, this.options);
} else {
  return [elem];
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.index" id="apidoc.element.whacko.traversing.index">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>index
        <span class="apidocSignatureSpan">(selectorOrNeedle)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">index = function (selectorOrNeedle) {
  var $haystack, needle;

  if (arguments.length === 0) {
    $haystack = this.parent().children();
    needle = this[0];
  } else if (typeof selectorOrNeedle === &#x27;string&#x27;) {
    $haystack = this._make(selectorOrNeedle);
    needle = this[0];
  } else {
    $haystack = this;
    needle = selectorOrNeedle.cheerio ? selectorOrNeedle[0] : selectorOrNeedle;
  }

  return $haystack.get().indexOf(needle);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.last" id="apidoc.element.whacko.traversing.last">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>last
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">last = function () {
  return this.length &#x3e; 1 ? this._make(this[this.length - 1]) : this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        case &#x27;radio&#x27;:
var queryString = &#x27;input[type=radio][name=&#x22;&#x27; + this.attr(&#x27;name&#x27;) + &#x27;&#x22;]:checked&#x27;;
var parentEl, root;

// Go up until we hit a form or root
parentEl = this.closest(&#x27;form&#x27;);
if (parentEl.length === 0) {
  root = (this.parents().<span class="apidocCodeKeywordSpan">last</span>()[0] || this[0]).root;
  parentEl = this._make(root);
}

if (querying) {
  return parentEl.find(queryString).attr(&#x27;value&#x27;);
} else {
  parentEl.find(&#x27;:checked&#x27;).removeAttr(&#x27;checked&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.map" id="apidoc.element.whacko.traversing.map">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>map
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (fn) {
  return this._make(_.reduce(this, function(memo, el, i) {
    var val = fn.call(el, i, el);
    return val == null ? memo : memo.concat(val);
  }, []));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var readAll = arguments.length === 1;
var domNames, domName, jsNames, jsName, value, idx, length;

if (readAll) {
  domNames = Object.keys(el.attribs).filter(function(attrName) {
    return attrName.slice(0, dataAttrPrefix.length) === dataAttrPrefix;
  });
  jsNames = domNames.<span class="apidocCodeKeywordSpan">map</span>(function(domName) {
    return camelCase(domName.slice(dataAttrPrefix.length));
  });
} else {
  domNames = [dataAttrPrefix + cssCase(name)];
  jsNames = [name];
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.next" id="apidoc.element.whacko.traversing.next">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>next
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (selector) {
  if (!this[0]) { return this; }
  var elems = [];

  _.forEach(this, function(elem) {
    while ((elem = elem.next)) {
      if (isTag(elem)) {
        elems.push(elem);
        return;
      }
    }
  });

  return selector ?
    exports.filter.call(elems, selector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.nextAll" id="apidoc.element.whacko.traversing.nextAll">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>nextAll
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextAll = function (selector) {
  if (!this[0]) { return this; }
  var elems = [];

  _.forEach(this, function(elem) {
    while ((elem = elem.next)) {
      if (isTag(elem) &#x26;&#x26; elems.indexOf(elem) === -1) {
        elems.push(elem);
      }
    }
  });

  return selector ?
    exports.filter.call(elems, selector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

exports.nextUntil = function(selector, filterSelector) {
if (!this[0]) { return this; }
var elems = [], untilNode, untilNodes;

if (typeof selector === &#x27;string&#x27;) {
  untilNode = select(selector, this.<span class="apidocCodeKeywordSpan">nextAll</span>().get(), this.options)[0];
} else if (selector &#x26;&#x26; selector.cheerio) {
  untilNodes = selector.get();
} else if (selector) {
  untilNode = selector;
}

_.forEach(this, function(elem) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.nextUntil" id="apidoc.element.whacko.traversing.nextUntil">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>nextUntil
        <span class="apidocSignatureSpan">(selector, filterSelector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextUntil = function (selector, filterSelector) {
  if (!this[0]) { return this; }
  var elems = [], untilNode, untilNodes;

  if (typeof selector === &#x27;string&#x27;) {
    untilNode = select(selector, this.nextAll().get(), this.options)[0];
  } else if (selector &#x26;&#x26; selector.cheerio) {
    untilNodes = selector.get();
  } else if (selector) {
    untilNode = selector;
  }

  _.forEach(this, function(elem) {
    while ((elem = elem.next)) {
      if ((untilNode &#x26;&#x26; elem !== untilNode) ||
        (untilNodes &#x26;&#x26; untilNodes.indexOf(elem) === -1) ||
        (!untilNode &#x26;&#x26; !untilNodes)) {
        if (isTag(elem) &#x26;&#x26; elems.indexOf(elem) === -1) {
          elems.push(elem);
        }
      } else {
        break;
      }
    }
  });

  return filterSelector ?
    exports.filter.call(elems, filterSelector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.not" id="apidoc.element.whacko.traversing.not">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>not
        <span class="apidocSignatureSpan">(match, container)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">not = function (match, container) {
  var testFn;
  container = container || this;

  if (typeof match === &#x27;string&#x27;) {
    testFn = select.compile(match, container.options);
  } else if (typeof match === &#x27;function&#x27;) {
    testFn = function(el, i) {
      return match.call(el, i, el);
    };
  } else if (match.cheerio) {
    testFn = match.is.bind(match);
  } else {
    testFn = function(el) {
      return match === el;
    };
  }

  return container._make(filterFn(this, testFn));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.parent" id="apidoc.element.whacko.traversing.parent">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>parent
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parent = function (selector) {
  var set = [];

  domEach(this, function(idx, elem) {
    var parentElem = elem.parent;
    if (parentElem &#x26;&#x26; set.indexOf(parentElem) &#x3c; 0) {
      set.push(parentElem);
    }
  });

  if (arguments.length) {
    set = exports.filter.call(set, selector, this);
  }

  return this._make(set);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

return filterSelector ?
  exports.filter.call(elems, filterSelector, this) :
  this._make(elems);
};

exports.siblings = function(selector) {
var parent = this.<span class="apidocCodeKeywordSpan">parent</span>();

var elems = _.filter(
  parent ? parent.children() : this.siblingsAndMe(),
  function(elem) { return isTag(elem) &#x26;&#x26; !this.is(elem); },
  this
);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.parents" id="apidoc.element.whacko.traversing.parents">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>parents
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parents = function (selector) {
  var parentNodes = [];

  // When multiple DOM elements are in the original set, the resulting set will
  // be in *reverse* order of the original elements as well, with duplicates
  // removed.
  this.get().reverse().forEach(function(elem) {
    traverseParents(this, elem.parent, selector, Infinity)
      .forEach(function(node) {
        if (parentNodes.indexOf(node) === -1) {
          parentNodes.push(node);
        }
      }
    );
  }, this);

  return this._make(parentNodes);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        case &#x27;radio&#x27;:
var queryString = &#x27;input[type=radio][name=&#x22;&#x27; + this.attr(&#x27;name&#x27;) + &#x27;&#x22;]:checked&#x27;;
var parentEl, root;

// Go up until we hit a form or root
parentEl = this.closest(&#x27;form&#x27;);
if (parentEl.length === 0) {
  root = (this.<span class="apidocCodeKeywordSpan">parents</span>().last()[0] || this[0]).root;
  parentEl = this._make(root);
}

if (querying) {
  return parentEl.find(queryString).attr(&#x27;value&#x27;);
} else {
  parentEl.find(&#x27;:checked&#x27;).removeAttr(&#x27;checked&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.parentsUntil" id="apidoc.element.whacko.traversing.parentsUntil">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>parentsUntil
        <span class="apidocSignatureSpan">(selector, filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parentsUntil = function (selector, filter) {
  var parentNodes = [], untilNode, untilNodes;

  if (typeof selector === &#x27;string&#x27;) {
    untilNode = select(selector, this.parents().toArray(), this.options)[0];
  } else if (selector &#x26;&#x26; selector.cheerio) {
    untilNodes = selector.toArray();
  } else if (selector) {
    untilNode = selector;
  }

  // When multiple DOM elements are in the original set, the resulting set will
  // be in *reverse* order of the original elements as well, with duplicates
  // removed.

  this.toArray().reverse().forEach(function(elem) {
    while ((elem = elem.parent)) {
      if ((untilNode &#x26;&#x26; elem !== untilNode) ||
        (untilNodes &#x26;&#x26; untilNodes.indexOf(elem) === -1) ||
        (!untilNode &#x26;&#x26; !untilNodes)) {
        if (isTag(elem) &#x26;&#x26; parentNodes.indexOf(elem) === -1) { parentNodes.push(elem); }
      } else {
        break;
      }
    }
  }, this);

  return this._make(filter ? select(filter, parentNodes, this.options) : parentNodes);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.prev" id="apidoc.element.whacko.traversing.prev">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>prev
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (selector) {
  if (!this[0]) { return this; }
  var elems = [];

  _.forEach(this, function(elem) {
    while ((elem = elem.prev)) {
      if (isTag(elem)) {
        elems.push(elem);
        return;
      }
    }
  });

  return selector ?
    exports.filter.call(elems, selector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.prevAll" id="apidoc.element.whacko.traversing.prevAll">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>prevAll
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prevAll = function (selector) {
  if (!this[0]) { return this; }
  var elems = [];

  _.forEach(this, function(elem) {
    while ((elem = elem.prev)) {
      if (isTag(elem) &#x26;&#x26; elems.indexOf(elem) === -1) {
        elems.push(elem);
      }
    }
  });

  return selector ?
    exports.filter.call(elems, selector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

exports.prevUntil = function(selector, filterSelector) {
if (!this[0]) { return this; }
var elems = [], untilNode, untilNodes;

if (typeof selector === &#x27;string&#x27;) {
  untilNode = select(selector, this.<span class="apidocCodeKeywordSpan">prevAll</span>().get(), this.options)[0];
} else if (selector &#x26;&#x26; selector.cheerio) {
  untilNodes = selector.get();
} else if (selector) {
  untilNode = selector;
}

_.forEach(this, function(elem) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.prevUntil" id="apidoc.element.whacko.traversing.prevUntil">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>prevUntil
        <span class="apidocSignatureSpan">(selector, filterSelector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prevUntil = function (selector, filterSelector) {
  if (!this[0]) { return this; }
  var elems = [], untilNode, untilNodes;

  if (typeof selector === &#x27;string&#x27;) {
    untilNode = select(selector, this.prevAll().get(), this.options)[0];
  } else if (selector &#x26;&#x26; selector.cheerio) {
    untilNodes = selector.get();
  } else if (selector) {
    untilNode = selector;
  }

  _.forEach(this, function(elem) {
    while ((elem = elem.prev)) {
      if ((untilNode &#x26;&#x26; elem !== untilNode) ||
        (untilNodes &#x26;&#x26; untilNodes.indexOf(elem) === -1) ||
        (!untilNode &#x26;&#x26; !untilNodes)) {
        if (isTag(elem) &#x26;&#x26; elems.indexOf(elem) === -1) {
          elems.push(elem);
        }
      } else {
        break;
      }
    }
  });

  return filterSelector ?
    exports.filter.call(elems, filterSelector, this) :
    this._make(elems);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.siblings" id="apidoc.element.whacko.traversing.siblings">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>siblings
        <span class="apidocSignatureSpan">(selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">siblings = function (selector) {
  var parent = this.parent();

  var elems = _.filter(
    parent ? parent.children() : this.siblingsAndMe(),
    function(elem) { return isTag(elem) &#x26;&#x26; !this.is(elem); },
    this
  );

  if (selector !== undefined) {
    return exports.filter.call(elems, selector, this);
  } else {
    return this._make(elems);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.traversing.slice" id="apidoc.element.whacko.traversing.slice">
        function <span class="apidocSignatureSpan">whacko.traversing.</span>slice
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">slice = function () {
  return this._make([].slice.apply(this, arguments));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// manner.
var readData = function(el, name) {
var readAll = arguments.length === 1;
var domNames, domName, jsNames, jsName, value, idx, length;

if (readAll) {
  domNames = Object.keys(el.attribs).filter(function(attrName) {
    return attrName.<span class="apidocCodeKeywordSpan">slice</span>(0, dataAttrPrefix.length) === dataAttrPrefix;
  });
  jsNames = domNames.map(function(domName) {
    return camelCase(domName.slice(dataAttrPrefix.length));
  });
} else {
  domNames = [dataAttrPrefix + cssCase(name)];
  jsNames = [name];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.whacko.utils" id="apidoc.module.whacko.utils">module whacko.utils</a></h1>


    <h2>
        <a href="#apidoc.element.whacko.utils.camelCase" id="apidoc.element.whacko.utils.camelCase">
        function <span class="apidocSignatureSpan">whacko.utils.</span>camelCase
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">camelCase = function (str) {
  return str.replace(/[_.-](\w|$)/g, function(_, x) {
    return x.toUpperCase();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.utils.cssCase" id="apidoc.element.whacko.utils.cssCase">
        function <span class="apidocSignatureSpan">whacko.utils.</span>cssCase
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cssCase = function (str) {
  return str.replace(/[A-Z]/g, &#x27;-$&#x26;&#x27;).toLowerCase();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.utils.domEach" id="apidoc.element.whacko.utils.domEach">
        function <span class="apidocSignatureSpan">whacko.utils.</span>domEach
        <span class="apidocSignatureSpan">(cheerio, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">domEach = function (cheerio, fn) {
  var i = 0, len = cheerio.length;
  while (i &#x3c; len &#x26;&#x26; fn(i, cheerio[i]) !== false) ++i;
  return cheerio;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.whacko.utils.isTag" id="apidoc.element.whacko.utils.isTag">
        function <span class="apidocSignatureSpan">whacko.utils.</span>isTag
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isTag = function (type) {
  if (type.type) type = type.type;
  return tags[type] || false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
